import{_ as x}from"./Checkbox-95c21eb1.js";import{_}from"./Autocomplete-e91e4d1c.js";import{u as f,r as y,o as i,c,w as v,f as u,h as a,z as T,i as C,d as k,e as V}from"./frappe-ui-d69b39da.js";import{_ as w}from"./Popover-5414f173.js";import{_ as U}from"./Tabs-88c08023.js";import{F as B}from"./index-9194c21d.js";import"./index-77f7bd6f.js";import"./toasts-2937f9d2.js";import"./calendar-1687c485.js";import"./clock-73e01da8.js";const E=["value","placeholder","onFocus"],h={class:"my-2 flex select-none flex-col space-y-3 rounded border bg-white p-3 text-base shadow-md"},F={class:"flex w-full justify-end"},N={__name:"InputWithTabs",props:["placeholder","tabs","value"],emits:["tab-change"],setup(m){const r=m,b=f(()=>Object.keys(r.tabs).map(e=>({label:e,active:r.tabs[e]})));function d(){var e;return((e=r.value)==null?void 0:e.label)||r.value}return(e,s)=>{const n=y("Button"),l=w;return i(),c(l,{class:"flex w-full [&>div:first-child]:w-full",hideOnBlur:!1},{target:v(({togglePopover:o})=>[u("input",{readonly:"",type:"text",value:d(),placeholder:m.placeholder,onFocus:p=>o(),class:"form-input block h-7 w-full cursor-text select-none rounded border-gray-400 text-sm placeholder-gray-500"},null,40,E)]),body:v(({togglePopover:o})=>[u("div",h,[a(U,{tabs:b.value,"model-value":d(),"onUpdate:modelValue":s[0]||(s[0]=p=>e.$emit("tab-change",p.label))},null,8,["tabs","model-value"]),T(e.$slots,"inputs"),u("div",F,[a(n,{variant:"solid",onClick:p=>o()},{default:v(()=>s[1]||(s[1]=[C(" Done ")])),_:2},1032,["onClick"])])])]),_:3})}}},O={class:"space-y-4"},P={class:"w-full"},R={__name:"ProgressOptions",props:{modelValue:{type:Object,required:!0},columns:{type:Array,required:!0}},emits:["update:modelValue"],setup(m,{emit:r}){const b=r,d=m,e=f({get:()=>d.modelValue,set:n=>b("update:modelValue",n)}),s=f(()=>{var n;return(n=d.columns)==null?void 0:n.filter(l=>B.NUMBER.includes(l.type)).map(l=>({label:l.label,value:l.label,description:l.type}))});return e.value.targetType||(e.value.targetType="Column"),(n,l)=>{const o=y("FormControl"),p=_,g=x;return i(),k("div",O,[a(o,{type:"text",label:"Title",class:"w-full",modelValue:e.value.title,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.title=t),placeholder:"Title"},null,8,["modelValue"]),u("div",null,[l[9]||(l[9]=u("label",{class:"mb-1.5 block text-xs text-gray-600"},"Progress Column",-1)),a(p,{options:s.value,modelValue:e.value.progress,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.progress=t==null?void 0:t.value)},null,8,["options","modelValue"])]),u("div",null,[l[10]||(l[10]=u("label",{class:"mb-1.5 block text-xs text-gray-600"},"Target",-1)),a(N,{value:e.value.targetType,tabs:{Column:e.value.targetType==="Column",Value:e.value.targetType==="Value"},onTabChange:l[4]||(l[4]=t=>e.value.targetType=t)},{inputs:v(()=>[u("div",P,[e.value.targetType==="Column"?(i(),c(p,{key:0,placeholder:"Select a column...",options:s.value,modelValue:e.value.target,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.target=t==null?void 0:t.value)},null,8,["options","modelValue"])):V("",!0),e.value.targetType==="Value"?(i(),c(o,{key:1,modelValue:e.value.target,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.target=t),placeholder:"Enter a value...",type:"number"},null,8,["modelValue"])):V("",!0)])]),_:1},8,["value","tabs"])]),a(o,{label:"Prefix",type:"text",modelValue:e.value.prefix,"onUpdate:modelValue":l[5]||(l[5]=t=>e.value.prefix=t),placeholder:"Enter a prefix..."},null,8,["modelValue"]),a(o,{label:"Suffix",type:"text",modelValue:e.value.suffix,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.suffix=t),placeholder:"Enter a suffix..."},null,8,["modelValue"]),a(o,{label:"Decimals",type:"number",modelValue:e.value.decimals,"onUpdate:modelValue":l[7]||(l[7]=t=>e.value.decimals=t),placeholder:"Enter a number..."},null,8,["modelValue"]),a(g,{modelValue:e.value.shorten,"onUpdate:modelValue":l[8]||(l[8]=t=>e.value.shorten=t),label:"Shorten Numbers"},null,8,["modelValue"])])}}};export{R as default};
//# sourceMappingURL=ProgressOptions-505cc76a.js.map
