import{u as v,c as S,w as d,r as f,o as D,h as a,j as p,S as V,I as x,d as U,f as g,K as _,F as k,aJ as L}from"./frappe-ui-d69b39da.js";import{I as P}from"./IndicatorIcon-cba5cc16.js";import{N as $}from"./NewDialogWithTypes-2e6d90f1.js";import{P as I}from"./PageBreadcrumbs-2c73064a.js";import{_ as M,a as N,b as T}from"./PostgreSQLForm-944c0c05.js";import{u as F}from"./dataSourceStore-ae22034f.js";import{a as R}from"./index-9194c21d.js";import{P as Q}from"./plus-3394075c.js";import{S as j}from"./search-34ad51bc.js";import"./house-94cdb6cd.js";import"./index-77f7bd6f.js";import"./chevron-right-abc82e4c.js";import"./ellipsis-10a30b7b.js";import"./Autocomplete-e91e4d1c.js";import"./Popover-5414f173.js";import"./vuedraggable.umd-f13fb48a.js";import"./Form-a11ed169.js";import"./toasts-2937f9d2.js";import"./dayjs-e81f6541.js";import"./calendar-1687c485.js";import"./clock-73e01da8.js";const z={__name:"ConnectMariaDBDialog",props:{show:Boolean},emits:["update:show"],setup(m,{emit:t}){const c=m,u=t,o=v({get:()=>c.show,set:r=>u("update:show",r)});return(r,e)=>{const i=f("Dialog");return D(),S(i,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value=l),options:{title:"Connect to MariaDB"}},{"body-content":d(()=>[a(M,{onSubmit:e[0]||(e[0]=l=>o.value=!1)})]),_:1},8,["modelValue"])}}},E=z,J={__name:"ConnectPostgreDBDialog",props:{show:Boolean},emits:["update:show"],setup(m,{emit:t}){const c=m,u=t,o=v({get:()=>c.show,set:r=>u("update:show",r)});return(r,e)=>{const i=f("Dialog");return D(),S(i,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value=l),options:{title:"Connect to PostgreDB"}},{"body-content":d(()=>[a(N,{onSubmit:e[0]||(e[0]=l=>o.value=!1)})]),_:1},8,["modelValue"])}}},K=J,W={__name:"UploadCSVFileDialog",props:{show:Boolean},emits:["update:show"],setup(m,{emit:t}){const c=t,u=m,o=v({get:()=>u.show,set:r=>c("update:show",r)});return(r,e)=>{const i=f("Dialog");return D(),S(i,{options:{title:"CSV Import"},modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value=l)},{"body-content":d(()=>[a(T,{onSubmit:e[0]||(e[0]=l=>o.value=!1)})]),_:1},8,["modelValue"])}}},q=W,A={class:"sticky top-0 z-10 flex items-center justify-between bg-white px-5 py-2.5"},G={class:"mb-4 flex h-full flex-col gap-2 overflow-auto px-4"},H={class:"flex gap-2 overflow-visible py-1"},ve={__name:"DataSourceList",setup(m){const t=p(!1);V().hash=="#new"&&(t.value=!0);const u=F(),o=p(""),r=v(()=>o.value?u.list.filter(w=>w.title.toLowerCase().includes(o.value.toLowerCase())):u.list);x();const e=p(!1),i=p(!1),l=p(!1),h=p([{label:"MariaDB",description:"Connect to a MariaDB database",imgSrc:new URL("/assets/insights/frontend/assets/MariaDBIcon-58822707.png",self.location),onClick:()=>{t.value=!1,e.value=!0}},{label:"PostgreSQL",description:"Connect to a PostgreSQL database",imgSrc:new URL("/assets/insights/frontend/assets/PostgreSQLIcon-03c6d437.png",self.location),onClick:()=>{t.value=!1,i.value=!0}},{label:"CSV",description:"Upload a CSV file",imgSrc:new URL("/assets/insights/frontend/assets/SheetIcon-0379e887.png",self.location),onClick:()=>{t.value=!1,l.value=!0}}]),b=[{label:"Title",key:"title"},{label:"Status",key:"status",prefix:({row:w})=>{const s=w.status=="Inactive"?"text-gray-500":"text-green-500";return a(P,{class:s},null)}},{label:"Database Type",key:"database_type"},{label:"Created",key:"created_from_now"}],C=p({title:"Data Sources"});return R(C),(w,s)=>{const y=f("Button"),B=f("FormControl");return D(),U(k,null,[g("header",A,[a(I,{class:"h-7",items:[{label:"Data Sources"}]}),g("div",null,[a(y,{label:"New Data Source",variant:"solid",onClick:s[0]||(s[0]=n=>t.value=!0)},{prefix:d(()=>[a(_(Q),{class:"w-4"})]),_:1})])]),g("div",G,[g("div",H,[a(B,{placeholder:"Search by Title",modelValue:o.value,"onUpdate:modelValue":s[1]||(s[1]=n=>o.value=n),debounce:300},{prefix:d(()=>[a(_(j),{class:"h-4 w-4 text-gray-500"})]),_:1},8,["modelValue"])]),a(_(L),{columns:b,rows:r.value,"row-key":"name",options:{showTooltip:!1,getRowRoute:n=>({name:"DataSource",params:{name:n.name}}),emptyState:{title:"No Data Sources.",description:"No data sources to display.",button:{label:"New Data Source",variant:"solid",onClick:()=>t.value=!0}}}},null,8,["rows","options"])]),a($,{show:t.value,"onUpdate:show":s[2]||(s[2]=n=>t.value=n),title:"Select Source Type",types:h.value},null,8,["show","types"]),a(E,{show:e.value,"onUpdate:show":s[3]||(s[3]=n=>e.value=n)},null,8,["show"]),a(K,{show:i.value,"onUpdate:show":s[4]||(s[4]=n=>i.value=n)},null,8,["show"]),a(q,{show:l.value,"onUpdate:show":s[5]||(s[5]=n=>l.value=n)},null,8,["show"])],64)}}};export{ve as default};
//# sourceMappingURL=DataSourceList-1ecda926.js.map
