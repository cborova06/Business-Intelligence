import{_ as M}from"./Checkbox-95c21eb1.js";import{u as b,r as _,o as r,d as m,h as s,e as g,F as B,L as T,M as N,f as n,w as f}from"./frappe-ui-d69b39da.js";import{_ as c}from"./Autocomplete-e91e4d1c.js";import{_ as S}from"./ColorPalette-525ced52.js";import{_ as w}from"./DraggableList-f8776dbd.js";import{D as Y}from"./DraggableListItemMenu-330d2ccb.js";import{F as L}from"./index-9194c21d.js";import{_ as D}from"./ColorInput-9369aab6.js";const P={class:"flex flex-col gap-3"},j={key:0},q={__name:"SeriesOption",props:{modelValue:{required:!0},seriesType:{type:String}},emits:["update:modelValue"],setup(p,{emit:C}){const l=C,u=p,a=b({get:()=>u.modelValue,set:d=>l("update:modelValue",d)});return u.seriesType&&(a.value.type=u.seriesType),a.value.type||(a.value.type="bar"),(d,i)=>{const V=_("FormControl"),o=M;return r(),m("div",P,[u.seriesType?g("",!0):(r(),m("div",j,[s(V,{label:"Axis Type",type:"select",options:[{label:"Line",value:"line"},{label:"Bar",value:"bar"}],modelValue:a.value.type,"onUpdate:modelValue":i[0]||(i[0]=e=>a.value.type=e)},null,8,["modelValue"])])),s(D,{label:"Color",modelValue:a.value.color,"onUpdate:modelValue":i[1]||(i[1]=e=>a.value.color=e),placement:"right-start"},null,8,["modelValue"]),a.value.type=="line"?(r(),m(B,{key:1},[s(o,{modelValue:a.value.smoothLines,"onUpdate:modelValue":i[2]||(i[2]=e=>a.value.smoothLines=e),label:"Enable Curved Lines"},null,8,["modelValue"]),s(o,{modelValue:a.value.showPoints,"onUpdate:modelValue":i[3]||(i[3]=e=>a.value.showPoints=e),label:"Show Data Points"},null,8,["modelValue"]),s(o,{modelValue:a.value.showArea,"onUpdate:modelValue":i[4]||(i[4]=e=>a.value.showArea=e),label:"Show Area"},null,8,["modelValue"])],64)):g("",!0)])}}},O={class:"mb-1 flex items-center justify-between"},R={class:"mb-1 flex items-center justify-between"},$={key:0,class:"space-y-2 text-gray-600"},W={__name:"AxisChartOptions",props:T({seriesType:{type:String},options:{type:Object,required:!0},columns:{type:Array,required:!0}},{options:{},optionsModifiers:{}}),emits:T(["update:modelValue"],["update:options"]),setup(p,{emit:C}){const l=N(p,"options"),u=p;l.value.xAxis||(l.value.xAxis=[]),l.value.yAxis||(l.value.yAxis=[]),typeof l.value.xAxis=="string"&&(l.value.xAxis=[{column:l.value.xAxis}]),typeof l.value.yAxis=="string"&&(l.value.yAxis=[{column:l.value.yAxis}]),Array.isArray(l.value.xAxis)&&typeof l.value.xAxis[0]=="string"&&(l.value.xAxis=l.value.xAxis.map(o=>({column:o}))),Array.isArray(l.value.yAxis)&&typeof l.value.yAxis[0]=="string"&&(l.value.yAxis=l.value.yAxis.map(o=>({column:o}))),l.value.yAxis.forEach(o=>{o.series_options||(o.series_options={})});const a=b(()=>{var o;return(o=u.columns)==null?void 0:o.filter(e=>!L.NUMBER.includes(e.type)).map(e=>({label:e.label,value:e.label,description:e.type}))}),d=b(()=>{var o;return(o=u.columns)==null?void 0:o.filter(e=>L.NUMBER.includes(e.type)).map(e=>({label:e.label,value:e.label,description:e.type}))});function i(o){if(!o){l.value.yAxis=[];return}l.value.yAxis=o.map(e=>{var y;const x=(y=l.value.yAxis)==null?void 0:y.find(A=>A.column===e.value),v=x?x.series_options:{};return{column:e.value,series_options:v}})}function V(o){if(!o){l.value.xAxis=[];return}l.value.xAxis=o.map(e=>({column:e.value}))}return(o,e)=>{var A,U,k;const x=_("FormControl"),v=_("Button"),y=M;return r(),m(B,null,[s(x,{type:"text",label:"Title",class:"w-full",modelValue:l.value.title,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.title=t),placeholder:"Title"},null,8,["modelValue"]),n("div",null,[n("div",O,[e[6]||(e[6]=n("label",{class:"block text-xs text-gray-600"},"X Axis",-1)),s(c,{multiple:!0,options:a.value,modelValue:((A=l.value.xAxis)==null?void 0:A.map(t=>t.column))||[],"onUpdate:modelValue":V},{target:f(({togglePopover:t})=>[s(v,{variant:"ghost",icon:"plus",onClick:t},null,8,["onClick"])]),_:1},8,["options","modelValue"])]),s(w,{group:"xAxis","item-key":"column","empty-text":"No columns selected",items:l.value.xAxis,"onUpdate:items":e[1]||(e[1]=t=>l.value.xAxis=t)},null,8,["items"])]),n("div",null,[n("div",R,[e[7]||(e[7]=n("label",{class:"block text-xs text-gray-600"},"Y Axis",-1)),s(c,{multiple:!0,options:d.value,modelValue:((U=l.value.yAxis)==null?void 0:U.map(t=>t.column))||[],"onUpdate:modelValue":i},{target:f(({togglePopover:t})=>[s(v,{variant:"ghost",icon:"plus",onClick:t},null,8,["onClick"])]),_:1},8,["options","modelValue"])]),s(w,{group:"yAxis","item-key":"column","empty-text":"No columns selected",items:l.value.yAxis,"onUpdate:items":e[2]||(e[2]=t=>l.value.yAxis=t)},{"item-suffix":f(({item:t,index:F})=>[s(Y,null,{default:f(()=>[s(q,{seriesType:u.seriesType,modelValue:t.series_options||{},"onUpdate:modelValue":E=>l.value.yAxis[F].series_options=E},null,8,["seriesType","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:1},8,["items"])]),((k=l.value.yAxis)==null?void 0:k.length)==2?(r(),m("div",$,[s(y,{modelValue:l.value.splitYAxis,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.splitYAxis=t),label:"Split Y Axis"},null,8,["modelValue"])])):g("",!0),n("div",null,[e[8]||(e[8]=n("label",{class:"mb-1.5 block text-xs text-gray-600"},"Reference Line",-1)),s(c,{modelValue:l.value.referenceLine,options:["Average","Median","Min","Max"],"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.referenceLine=t==null?void 0:t.value)},null,8,["modelValue"])]),s(S,{modelValue:l.value.colors,"onUpdate:modelValue":e[5]||(e[5]=t=>l.value.colors=t)},null,8,["modelValue"])],64)}}};export{W as _};
//# sourceMappingURL=AxisChartOptions-ea0815fd.js.map
