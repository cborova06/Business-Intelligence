import{u as m,a7 as c,a8 as d,p as t}from"./frappe-ui-d69b39da.js";import{g as h,c as E,s as _}from"./toasts-2937f9d2.js";import{f as l}from"./index-77f7bd6f.js";const b=l("insights:settings",()=>{const e=h("Insights Settings"),a=m(()=>{var r;return(r=e.doc)==null?void 0:r.name});async function o(){a.value||await e.get.fetch()}const i=m(()=>e.loading),n=m({get:()=>e.doc,set(r){e.doc=r}});function s(r,u=!0){return e.setValue.submit({...r}).then(()=>{u&&E({title:"Settings Updated",message:"Your settings have been updated successfully",variant:"success"})})}return{initialized:a,settings:n,loading:i,initialize:o,update:s}}),g=[{path:"/setup",name:"Setup",component:()=>t(()=>import("./Setup-bc19bcfb.js"),["assets/Setup-bc19bcfb.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/PostgreSQLForm-944c0c05.js","assets/Autocomplete-e91e4d1c.js","assets/Popover-5414f173.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/dataSourceStore-ae22034f.js","assets/dayjs-e81f6541.js","assets/vuedraggable.umd-f13fb48a.js","assets/Form-a11ed169.js"]),meta:{hideSidebar:!0}},{path:"/login",name:"Login",component:()=>t(()=>import("./Login-2bd9aa59.js"),["assets/Login-2bd9aa59.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/insights-logo-new-611f92f4.js","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js"]),meta:{hideSidebar:!0,isGuestView:!0}},{path:"/",name:"Home",component:()=>t(()=>import("./Home-b0516884.js"),["assets/Home-b0516884.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js","assets/Home-70b4fdb1.css"])},{path:"/dashboard",name:"Dashboards",component:()=>t(()=>import("./DashboardList-c8f5b95a.js"),["assets/DashboardList-c8f5b95a.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/index-77f7bd6f.js","assets/chevron-right-abc82e4c.js","assets/ellipsis-10a30b7b.js","assets/useDashboards-65106383.js","assets/dayjs-e81f6541.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/plus-3394075c.js"])},{props:!0,name:"Dashboard",path:"/dashboard/:name",component:()=>t(()=>import("./Dashboard-a3ee5eac.js"),["assets/Dashboard-a3ee5eac.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/QueryDataSourceSelector-8ecc9714.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/useChartData-3320721f.js","assets/format-a2b0a407.js","assets/dayjs-e81f6541.js","assets/TanstackTable-bdba0e34.js","assets/search-34ad51bc.js","assets/chevron-down-7c5e9308.js","assets/chevron-right-abc82e4c.js","assets/colors-18b5c913.js","assets/chevron-left-c299c44c.js","assets/vue-codemirror.esm-d1d2df5a.js","assets/useDataSource-526c5b5a.js","assets/cacheStore-a53900e8.js","assets/useDataSourceTable-37863c71.js","assets/dataSourceStore-ae22034f.js","assets/Autocomplete-e91e4d1c.js","assets/Popover-5414f173.js","assets/ContentEditable-dae1067e.css","assets/DashboardEmptyState-00d606e5.js","assets/DashboardEmptyState-1d315e95.css","assets/widgets-5dfe9af0.js","assets/chart-scatter-06f2042d.js","assets/list-filter-e596ffc3.js","assets/text-cursor-input-3636b908.js","assets/maximize-3d779b9b.js","assets/Query-9187b102.js","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/ellipsis-10a30b7b.js","assets/Tabs-88c08023.js","assets/Checkbox-95c21eb1.js","assets/useDashboards-65106383.js","assets/ChartSectionEmptySvg-d77827da.js","assets/check-2c63c113.js","assets/queryStore-e3123969.js","assets/play-63d306bd.js","assets/combine-0dbf7ac7.js","assets/bug-a1e6b610.js","assets/vuedraggable.umd-f13fb48a.js","assets/DatePicker-296330db.js","assets/FilterValueSelector-3cbeb5d5.js","assets/ListPicker-9a2927d2.js","assets/DraggableList-f8776dbd.js","assets/grip-vertical-c5c2fa7d.js","assets/x-3f18ad86.js","assets/square-chart-gantt-d62ce5e7.js","assets/table-2-565c43f4.js"])},{props:!0,name:"PublicDashboard",path:"/public/dashboard/:public_key",component:()=>t(()=>import("./PublicDashboard-3ba9ab39.js"),["assets/PublicDashboard-3ba9ab39.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/DashboardEmptyState-00d606e5.js","assets/DashboardEmptyState-1d315e95.css","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/widgets-5dfe9af0.js","assets/chart-scatter-06f2042d.js","assets/list-filter-e596ffc3.js","assets/text-cursor-input-3636b908.js","assets/InvalidWidget-252e2915.js","assets/useChartData-3320721f.js","assets/format-a2b0a407.js","assets/dayjs-e81f6541.js"]),meta:{hideSidebar:!0,isGuestView:!0}},{props:!0,name:"PublicChart",path:"/public/chart/:public_key",component:()=>t(()=>import("./PublicChart-f69f7a15.js"),["assets/PublicChart-f69f7a15.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/widgets-5dfe9af0.js","assets/index-77f7bd6f.js","assets/chart-scatter-06f2042d.js","assets/list-filter-e596ffc3.js","assets/text-cursor-input-3636b908.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/useChartData-3320721f.js","assets/format-a2b0a407.js","assets/dayjs-e81f6541.js"]),meta:{hideSidebar:!0,isGuestView:!0}},{path:"/data-source",name:"DataSourceList",component:()=>t(()=>import("./DataSourceList-1ecda926.js"),["assets/DataSourceList-1ecda926.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/IndicatorIcon-cba5cc16.js","assets/NewDialogWithTypes-2e6d90f1.js","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/index-77f7bd6f.js","assets/chevron-right-abc82e4c.js","assets/ellipsis-10a30b7b.js","assets/PostgreSQLForm-944c0c05.js","assets/Autocomplete-e91e4d1c.js","assets/Popover-5414f173.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/dataSourceStore-ae22034f.js","assets/dayjs-e81f6541.js","assets/vuedraggable.umd-f13fb48a.js","assets/Form-a11ed169.js","assets/plus-3394075c.js","assets/search-34ad51bc.js"])},{props:!0,name:"DataSource",path:"/data-source/:name",component:()=>t(()=>import("./DataSource-cbd11cb4.js"),["assets/DataSource-cbd11cb4.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/IndicatorIcon-cba5cc16.js","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/index-77f7bd6f.js","assets/chevron-right-abc82e4c.js","assets/ellipsis-10a30b7b.js","assets/useDataSource-526c5b5a.js","assets/toasts-2937f9d2.js","assets/cacheStore-a53900e8.js","assets/search-34ad51bc.js"])},{props:!0,name:"DataSourceRelationships",path:"/data-source/:name/relationships",component:()=>t(()=>import("./DataSourceRelationships-e2a9f591.js"),["assets/DataSourceRelationships-e2a9f591.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/index-77f7bd6f.js","assets/chevron-right-abc82e4c.js","assets/ellipsis-10a30b7b.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/useDataSourceTable-37863c71.js","assets/cacheStore-a53900e8.js","assets/useDataSource-526c5b5a.js"])},{props:!0,name:"DataSourceTable",path:"/data-source/:name/:table",component:()=>t(()=>import("./DataSourceTable-912068d1.js"),["assets/DataSourceTable-912068d1.js","assets/Autocomplete-e91e4d1c.js","assets/Popover-5414f173.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/chevron-right-abc82e4c.js","assets/ellipsis-10a30b7b.js","assets/useDataSourceTable-37863c71.js","assets/cacheStore-a53900e8.js"])},{path:"/query",name:"QueryList",component:()=>t(()=>import("./QueryList-606fc7db.js"),["assets/QueryList-606fc7db.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/IndicatorIcon-cba5cc16.js","assets/NewDialogWithTypes-2e6d90f1.js","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/index-77f7bd6f.js","assets/chevron-right-abc82e4c.js","assets/ellipsis-10a30b7b.js","assets/useNotebooks-d72e5199.js","assets/dayjs-e81f6541.js","assets/queryStore-e3123969.js","assets/toasts-2937f9d2.js","assets/widgets-5dfe9af0.js","assets/chart-scatter-06f2042d.js","assets/list-filter-e596ffc3.js","assets/text-cursor-input-3636b908.js","assets/index-9194c21d.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/plus-3394075c.js","assets/search-34ad51bc.js"])},{props:!0,name:"Query",path:"/query/build/:name",component:()=>t(()=>import("./Query-9187b102.js").then(e=>e.Q),["assets/Query-9187b102.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/index-77f7bd6f.js","assets/chevron-right-abc82e4c.js","assets/ellipsis-10a30b7b.js","assets/Tabs-88c08023.js","assets/Autocomplete-e91e4d1c.js","assets/Popover-5414f173.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/widgets-5dfe9af0.js","assets/chart-scatter-06f2042d.js","assets/list-filter-e596ffc3.js","assets/text-cursor-input-3636b908.js","assets/Checkbox-95c21eb1.js","assets/useDashboards-65106383.js","assets/dayjs-e81f6541.js","assets/maximize-3d779b9b.js","assets/ChartSectionEmptySvg-d77827da.js","assets/chevron-down-7c5e9308.js","assets/check-2c63c113.js","assets/QueryDataSourceSelector-8ecc9714.js","assets/useChartData-3320721f.js","assets/format-a2b0a407.js","assets/TanstackTable-bdba0e34.js","assets/search-34ad51bc.js","assets/colors-18b5c913.js","assets/chevron-left-c299c44c.js","assets/vue-codemirror.esm-d1d2df5a.js","assets/useDataSource-526c5b5a.js","assets/cacheStore-a53900e8.js","assets/useDataSourceTable-37863c71.js","assets/dataSourceStore-ae22034f.js","assets/ContentEditable-dae1067e.css","assets/queryStore-e3123969.js","assets/play-63d306bd.js","assets/combine-0dbf7ac7.js","assets/bug-a1e6b610.js","assets/vuedraggable.umd-f13fb48a.js","assets/DatePicker-296330db.js","assets/FilterValueSelector-3cbeb5d5.js","assets/ListPicker-9a2927d2.js","assets/DraggableList-f8776dbd.js","assets/grip-vertical-c5c2fa7d.js","assets/x-3f18ad86.js","assets/square-chart-gantt-d62ce5e7.js","assets/table-2-565c43f4.js"])},{path:"/users",name:"Users",component:()=>t(()=>import("./Users-79cbece2.js"),["assets/Users-79cbece2.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/useTeams-4d4fbe26.js","assets/Form-a11ed169.js"]),meta:{isAllowed(){return!1}}},{path:"/teams",name:"Teams",component:()=>t(()=>import("./Teams-a5db73b5.js"),["assets/Teams-a5db73b5.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/useTeams-4d4fbe26.js","assets/ListPicker-9a2927d2.js","assets/Popover-5414f173.js","assets/Form-a11ed169.js"]),meta:{isAllowed(){return!1}}},{path:"/notebook",name:"NotebookList",component:()=>t(()=>import("./NotebookList-96a32f69.js"),["assets/NotebookList-96a32f69.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/index-77f7bd6f.js","assets/chevron-right-abc82e4c.js","assets/ellipsis-10a30b7b.js","assets/useNotebooks-d72e5199.js","assets/dayjs-e81f6541.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/plus-3394075c.js","assets/search-34ad51bc.js"])},{props:!0,path:"/notebook/:notebook",name:"Notebook",component:()=>t(()=>import("./Notebook-0f0b9a4d.js"),["assets/Notebook-0f0b9a4d.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/index-77f7bd6f.js","assets/chevron-right-abc82e4c.js","assets/ellipsis-10a30b7b.js","assets/useNotebook-d0bc6ec9.js","assets/dayjs-e81f6541.js","assets/useNotebooks-d72e5199.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/plus-3394075c.js","assets/search-34ad51bc.js"])},{props:!0,path:"/notebook/:notebook/:name",name:"NotebookPage",component:()=>t(()=>import("./NotebookPage-fb8cf308.js"),["assets/NotebookPage-fb8cf308.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/QueryDataSourceSelector-8ecc9714.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/useChartData-3320721f.js","assets/format-a2b0a407.js","assets/dayjs-e81f6541.js","assets/TanstackTable-bdba0e34.js","assets/search-34ad51bc.js","assets/chevron-down-7c5e9308.js","assets/chevron-right-abc82e4c.js","assets/colors-18b5c913.js","assets/chevron-left-c299c44c.js","assets/vue-codemirror.esm-d1d2df5a.js","assets/useDataSource-526c5b5a.js","assets/cacheStore-a53900e8.js","assets/useDataSourceTable-37863c71.js","assets/dataSourceStore-ae22034f.js","assets/Autocomplete-e91e4d1c.js","assets/Popover-5414f173.js","assets/ContentEditable-dae1067e.css","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/ellipsis-10a30b7b.js","assets/useNotebook-d0bc6ec9.js","assets/useDashboards-65106383.js","assets/queryStore-e3123969.js","assets/widgets-5dfe9af0.js","assets/chart-scatter-06f2042d.js","assets/list-filter-e596ffc3.js","assets/text-cursor-input-3636b908.js","assets/InvalidWidget-252e2915.js","assets/NotebookPage-abfd1697.css"])},{path:"/settings",name:"Settings",component:()=>t(()=>import("./Settings-b4d98a9c.js"),["assets/Settings-b4d98a9c.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/DatePicker-296330db.js","assets/Popover-5414f173.js","assets/PageBreadcrumbs-2c73064a.js","assets/house-94cdb6cd.js","assets/index-77f7bd6f.js","assets/chevron-right-abc82e4c.js","assets/ellipsis-10a30b7b.js","assets/check-2c63c113.js","assets/toasts-2937f9d2.js"])},{path:"/no-permission",name:"No Permission",component:()=>t(()=>import("./NoPermission-23f02e3f.js"),["assets/NoPermission-23f02e3f.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css"]),meta:{hideSidebar:!0}},{path:"/trial-expired",name:"Trial Expired",component:()=>t(()=>import("./TrialExpired-800ebcf3.js"),["assets/TrialExpired-800ebcf3.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css"]),meta:{hideSidebar:!0}},{path:"/:pathMatch(.*)*",name:"Not Found",component:()=>t(()=>import("./NotFound-4fb1ec85.js"),["assets/NotFound-4fb1ec85.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css"]),meta:{hideSidebar:!0}}];let p=c({history:d("/insights_v2"),routes:g});p.beforeEach(async(e,a,o)=>{const i=_();if(!i.initialized&&await i.initialize(),e.meta.isGuestView&&!i.isLoggedIn&&e.name!=="Login")return o();if(!i.isLoggedIn)return window.location.href="/login",o(!1);if(!i.isAuthorized&&e.name!=="No Permission")return o("/no-permission");if(i.isAuthorized&&e.name==="No Permission")return o();if(e.meta.isAllowed&&!e.meta.isAllowed())return o("/no-permission");const n=b();n.initialized||await n.initialize();const s=n.settings.setup_complete;if(!s&&e.name!=="Setup")return o("/setup");if(s&&e.name==="Setup")return o("/");e.path==="/login"?o("/"):o()});p.afterEach((e,a)=>{const o=["Query","Dashboard","NotebookPage"],i=e.name;o.includes(i)&&i!==a.name&&e.params.name!==a.params.name&&_().createViewLog(i,e.params.name)});const D=window.fetch;window.fetch=async function(){const e=await D(...arguments);return e.status===403&&(!document.cookie||document.cookie.includes("user_id=Guest"))&&(_().resetSession(),p.push("/login")),e};export{p as r,b as s};
//# sourceMappingURL=router-9009eafe.js.map
