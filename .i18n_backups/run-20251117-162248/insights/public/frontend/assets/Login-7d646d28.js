import{_ as y,o as p,d as x,f as o,t as M,z as Z,h as n,j as r,S as b,I as B,af as C,c as q,w as g,r as d,i as H,aC as L}from"./frappe-ui-d69b39da.js";import{_ as k,s as j}from"./main-d2d228fc.js";import"./index-77f7bd6f.js";import"./text-cursor-input-3636b908.js";import"./combine-0dbf7ac7.js";import"./chevron-down-7c5e9308.js";const E={},R={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 102 30"};function S(c,e){return p(),x("svg",R,e[0]||(e[0]=[o("path",{fill:"currentColor",d:"M17.33 5.666h4.764v3.085h.187c.643-2.188 2.275-3.34 4.253-3.34.498 0 1.106.069 1.549.172v4.348c-.463-.152-1.397-.262-2.075-.262-2.171 0-3.762 1.497-3.762 3.671v10H17.33V5.666ZM28.636 18.413c0-3.948 3.146-5.121 6.652-5.445 3.078-.297 4.288-.449 4.288-1.588v-.069c0-1.449-.955-2.291-2.628-2.291-1.763 0-2.815.863-3.146 2.036l-4.544-.366c.678-3.223 3.472-5.252 7.718-5.252 3.941 0 7.517 1.774 7.517 5.984v11.925h-4.661v-2.45h-.139c-.864 1.65-2.558 2.788-5.18 2.788-3.374-.007-5.877-1.773-5.877-5.272Zm10.974-1.387v-1.878c-.587.394-2.344.642-3.416.794-1.729.242-2.87.918-2.87 2.305 0 1.346 1.086 2.05 2.594 2.05 2.164 0 3.692-1.415 3.692-3.271ZM47.093 5.694h4.84V8.66h.222c.657-1.435 2.075-3.202 5.041-3.202 3.887 0 7.171 3.016 7.171 9.096 0 5.914-3.146 9.103-7.185 9.103-2.863 0-4.35-1.65-5.027-3.12h-.152V30h-4.91V5.694Zm8.533 14.065c2.414 0 3.728-2.14 3.728-5.225 0-3.064-1.293-5.169-3.727-5.169-2.386 0-3.728 2.015-3.728 5.17 0 3.153 1.362 5.224 3.727 5.224ZM66.151 5.694H71V8.66h.221c.657-1.435 2.075-3.202 5.041-3.202 3.887 0 7.171 3.016 7.171 9.096 0 5.914-3.146 9.103-7.185 9.103-2.863 0-4.35-1.65-5.027-3.12h-.152V30H66.15V5.694Zm8.534 14.065c2.413 0 3.727-2.14 3.727-5.225 0-3.064-1.293-5.169-3.728-5.169-2.385 0-3.727 2.015-3.727 5.17 0 3.153 1.37 5.224 3.728 5.224ZM85.078 14.617c0-5.459 3.382-9.151 8.596-9.151 4.682 0 8.326 2.967 8.326 8.978v1.346H89.933v.014c0 2.636 1.556 4.258 4.01 4.258 1.64 0 2.905-.704 3.403-2.05l4.543.297c-.691 3.278-3.644 5.41-8.028 5.41-5.45 0-8.783-3.498-8.783-9.102Zm12.296-1.863c-.014-2.105-1.487-3.624-3.624-3.624-2.178 0-3.713 1.615-3.817 3.624h7.44ZM0 0v4.106h15.642V0H0ZM0 10.476v12.871h4.993V14.59h9.612v-4.113H0Z"},null,-1)]))}const $=y(E,[["render",S]]),z={class:"h-full w-full pt-4 sm:pt-16"},F={class:"relative z-10"},N={class:"mx-auto bg-white px-4 py-8 sm:mt-6 sm:w-96 sm:rounded-lg sm:px-8 sm:shadow-xl"},I={class:"mb-6 text-center"},U={class:"text-base text-gray-900"},A={class:"fixed bottom-4 z-[1] flex w-full justify-center"},D={__name:"LoginBox",props:["title"],setup(c){const e=c;return(s,t)=>(p(),x("div",z,[o("div",F,[t[0]||(t[0]=o("div",{class:"flex"},[o("img",{src:k,class:"mx-auto h-12"})],-1)),o("div",N,[o("div",I,[o("span",U,M(e.title),1)]),Z(s.$slots,"default")])]),o("div",A,[n($,{class:"h-4"})])]))}},Q={__name:"Login",setup(c){const e=r(null),s=r(null),t=r(null),i=r(null),v=r(null),u=b(),_=B();C(()=>{var l;(l=u==null?void 0:u.query)!=null&&l.route&&(v.value=u.query.route,_.replace({query:null}))});const f=async()=>{if(!(!s.value||!t.value))try{i.value=null,e.value=!0,await j.login(s.value,t.value)&&_.push(v.value||"/")}catch(l){console.error(l),i.value=l.messages.join(`
`)}finally{e.value=!1}};return(l,a)=>{const h=d("FormControl"),w=d("ErrorMessage"),V=d("Button");return p(),q(D,{class:"bg-gray-50",title:"Log in to your account"},{default:g(()=>[o("form",{class:"flex flex-col",onSubmit:L(f,["prevent"])},[n(h,{label:"Email",placeholder:"johndoe@mail.com",modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=m=>s.value=m),name:"email",autocomplete:"email",type:s.value!=="Administrator"?"email":"text",required:""},null,8,["modelValue","type"]),n(h,{class:"mt-4",label:"Password",type:"password",placeholder:"•••••",modelValue:t.value,"onUpdate:modelValue":a[1]||(a[1]=m=>t.value=m),name:"password",autocomplete:"current-password",required:""},null,8,["modelValue"]),n(w,{error:i.value,class:"!mt-2"},null,8,["error"]),n(V,{class:"mt-4",variant:"solid",disabled:e.value,loading:e.value,onClick:f},{default:g(()=>a[2]||(a[2]=[H(" Log in with email ")])),_:1},8,["disabled","loading"])],32)]),_:1})}}};export{Q as default};
//# sourceMappingURL=Login-7d646d28.js.map
