import{I as x,j as u,d as h,f as i,h as e,K as a,w as s,F as C,r,o as D,aJ as P,i as k}from"./frappe-ui-d69b39da.js";import{P as V}from"./PageBreadcrumbs-2c73064a.js";import{u as B}from"./useNotebook-d0bc6ec9.js";import{u as S}from"./useNotebooks-d72e5199.js";import{a as T}from"./index-9194c21d.js";import{P as F}from"./plus-3394075c.js";import{S as R}from"./search-34ad51bc.js";import"./house-94cdb6cd.js";import"./index-77f7bd6f.js";import"./chevron-right-abc82e4c.js";import"./ellipsis-10a30b7b.js";import"./dayjs-e81f6541.js";import"./toasts-2937f9d2.js";import"./calendar-1687c485.js";import"./clock-73e01da8.js";const j={class:"sticky top-0 z-10 flex items-center justify-between bg-white px-5 py-2.5"},z={class:"space-x-2.5"},M={class:"mb-4 flex h-full flex-col gap-2 overflow-auto px-4"},U={class:"flex gap-2 overflow-visible py-1"},Z={__name:"Notebook",props:{notebook:String},setup(g){const m=g,d=x(),t=B(m.notebook);t.reload();const c=u("");async function b(){const f=await t.createPage(m.notebook);d.push({name:"NotebookPage",params:{notebook:m.notebook,name:f}})}const n=u(!1);async function w(){await t.deleteNotebook(),n.value=!1,await S().reload(),d.push({name:"NotebookList"})}const v=u({title:"Notebook"});return T(v),(f,o)=>{const p=r("Button"),_=r("FormControl"),y=r("Dropdown"),N=r("Dialog");return D(),h(C,null,[i("header",j,[e(V,{class:"h-7",items:[{label:"Notebooks",route:{path:"/notebook"}},{label:a(t).doc.title||a(t).doc.name}]},null,8,["items"]),i("div",z,[e(p,{label:"New Page",variant:"solid",onClick:o[0]||(o[0]=()=>b())},{prefix:s(()=>[e(a(F),{class:"w-4"})]),_:1})])]),i("div",M,[i("div",U,[e(_,{placeholder:"Search by Title",modelValue:c.value,"onUpdate:modelValue":o[1]||(o[1]=l=>c.value=l),debounce:300},{prefix:s(()=>[e(a(R),{class:"h-4 w-4 text-gray-500"})]),_:1},8,["modelValue"]),e(y,{placement:"left",button:{icon:"more-horizontal",variant:"ghost"},options:[{label:"Delete",icon:"trash-2",onClick:()=>n.value=!0}]},null,8,["options"])]),e(a(P),{columns:[{label:"Title",key:"title"},{label:"Created",key:"created_from_now"},{label:"Modified",key:"modified_from_now"}],rows:a(t).pages,"row-key":"name",options:{showTooltip:!1,getRowRoute:l=>({name:"NotebookPage",params:{notebook:a(t).doc.name,name:l.name}}),emptyState:{title:"No pages.",description:"No pages to display.",button:{label:"New Page",variant:"solid",onClick:()=>b()}}}},null,8,["rows","options"])]),e(N,{options:{title:"Delete Notebook",icon:{name:"trash",variant:"solid",theme:"red"}},modelValue:n.value,"onUpdate:modelValue":o[3]||(o[3]=l=>n.value=l),dismissable:!0},{"body-content":s(()=>o[4]||(o[4]=[i("p",{class:"text-base text-gray-600"},"Are you sure you want to delete this notebook?",-1)])),actions:s(()=>[e(p,{variant:"outline",onClick:o[2]||(o[2]=l=>n.value=!1)},{default:s(()=>o[5]||(o[5]=[k("Cancel")])),_:1}),e(p,{variant:"solid",theme:"red",onClick:w,loading:a(t).deleting},{default:s(()=>o[6]||(o[6]=[k(" Yes ")])),_:1},8,["loading"])]),_:1},8,["modelValue"])],64)}}};export{Z as default};
//# sourceMappingURL=Notebook-0f0b9a4d.js.map
