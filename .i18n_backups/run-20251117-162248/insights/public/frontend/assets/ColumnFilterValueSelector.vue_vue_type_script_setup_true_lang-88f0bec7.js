import{x as B,L as A,M as j,j as u,B as F,u as L,r as D,o,d as h,f as i,h as w,w as V,K as r,c as f,a5 as q,e as z,aC as _,J as k,F as I,g as P,t as U}from"./frappe-ui-d69b39da.js";import{S as Z}from"./search-34ad51bc.js";import{c as C}from"./index-77f7bd6f.js";import{S as $,a as E}from"./Autocomplete-e91e4d1c.js";/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=C("arrow-down-a-z",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=C("arrow-up-a-z",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]]),O={class:"flex flex-col gap-2"},G={class:"flex items-center gap-2"},H=["title"],Q={class:"max-h-[10rem] overflow-y-scroll"},R=["onClick"],T={class:"flex-1 truncate"},te=B({__name:"ColumnFilterValueSelector",props:A({valuesProvider:{type:Function}},{modelValue:{type:Array,default:()=>[]},modelModifiers:{}}),emits:["update:modelValue"],setup(v){const b=v,s=j(v,"modelValue"),g=u([]),d=u(""),m=u(!1),l=u("asc");F(()=>d.value,t=>{m.value=!0,b.valuesProvider(t).then(e=>g.value=e).finally(()=>m.value=!1)},{debounce:300,immediate:!0});const M=L(()=>{const t=[...g.value],e=l.value==="asc"?1:-1;return t.sort((p,a)=>{const n=String(p),c=String(a),y=Number(n),x=Number(c);return!isNaN(y)&&!isNaN(x)&&n.trim()&&c.trim()?(y-x)*e:n.toLowerCase().localeCompare(c.toLowerCase(),void 0,{numeric:!0})*e})});function S(t){s.value.includes(t)?s.value=s.value.filter(e=>e!==t):s.value=[...s.value,t]}function N(){l.value=l.value==="asc"?"desc":"asc"}return(t,e)=>{const p=D("FormControl");return o(),h("div",O,[i("div",G,[w(p,{placeholder:"Search",modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),autocomplete:"off",class:"flex-1"},{prefix:V(()=>[w(r(Z),{class:"h-4 w-4 text-gray-400"})]),suffix:V(()=>[m.value?(o(),f(r(q),{key:0,class:"h-4 w-4 text-gray-600"})):z("",!0)]),_:1},8,["modelValue"]),i("button",{onClick:_(N,["stop"]),class:"flex h-7 w-7 items-center justify-center rounded border border-gray-300 bg-white hover:bg-gray-50",title:l.value==="asc"?"Sort descending":"Sort ascending"},[(o(),f(k(l.value==="asc"?r(J):r(K)),{class:"h-4 w-4"}))],8,H)]),i("div",Q,[(o(!0),h(I,null,P(M.value.slice(0,50),(a,n)=>(o(),h("div",{key:a||n,class:"flex cursor-pointer items-center justify-between gap-2 rounded px-1 py-1.5 text-base hover:bg-gray-100",onClick:_(c=>S(a),["prevent","stop"])},[(o(),f(k(s.value.includes(a)?r($):r(E)),{class:"h-4 w-4 text-gray-600"})),i("span",T,U(a),1)],8,R))),128))])])}}});export{te as _};
//# sourceMappingURL=ColumnFilterValueSelector.vue_vue_type_script_setup_true_lang-88f0bec7.js.map
