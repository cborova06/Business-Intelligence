import{c as k,q as Ze,a as Xe,K as et,d as tt,S as Oe,B as nt,D as at,V as ot,b as st,e as rt,o as it}from"./index-77f7bd6f.js";import{_ as fe,a as Ve,b as je,r as M,o as p,c as L,w as D,d as y,t as I,e as E,f as m,F as P,g as Y,m as lt,h as x,i as X,j as w,k as j,l as ct,n as R,p as v,q as te,s as me,u as S,v as A,x as N,y as T,z as ce,A as ut,B as ge,C as dt,D as Re,E as pt,G as ft,H as he,I as mt,J as _e,K as b,L as ee,M as ne,N as gt,O as Pe,P as ht,Q as Ne,R as ue,S as _t,T as yt,U as vt,V as bt,W as wt,X as xt,Y as kt,Z as Ct,$ as Dt,a0 as St,a1 as Tt,a2 as Lt,a3 as At,a4 as It,a5 as Et,a6 as Mt,a7 as $t,a8 as Ot,a9 as Vt,aa as jt,ab as Rt}from"./frappe-ui-d69b39da.js";import{T as Pt,G as Nt}from"./text-cursor-input-3636b908.js";import{C as Bt,B as Ce}from"./combine-0dbf7ac7.js";import{C as Ft}from"./chevron-down-7c5e9308.js";/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=k("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=k("between-horizontal-start",[["rect",{width:"13",height:"7",x:"8",y:"3",rx:"1",key:"pkso9a"}],["path",{d:"m2 9 3 3-3 3",key:"1agib5"}],["rect",{width:"13",height:"7",x:"8",y:"14",rx:"1",key:"1q5fc1"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=k("blend",[["circle",{cx:"9",cy:"9",r:"7",key:"p2h5vp"}],["circle",{cx:"15",cy:"15",r:"7",key:"19ennj"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=k("circle-help",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=k("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=k("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=k("database-zap",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 15 21.84",key:"14ibmq"}],["path",{d:"M21 5V8",key:"1marbg"}],["path",{d:"M21 12L18 17H22L19 22",key:"zafso"}],["path",{d:"M3 12A9 3 0 0 0 14.59 14.87",key:"1y4wr8"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=k("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=k("indent-increase",[["path",{d:"M21 12H11",key:"wd7e0v"}],["path",{d:"M21 18H11",key:"4wu86t"}],["path",{d:"M21 6H11",key:"6dy1d6"}],["path",{d:"m3 8 4 4-4 4",key:"1a3j6y"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=k("key-round",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=k("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=k("log-out",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=k("message-circle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=k("panel-right-open",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=k("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=k("scroll-text",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=k("square-function",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3",key:"m1af9g"}],["path",{d:"M9 11.2h5.7",key:"3zgcl2"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=k("square-x",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=k("toggle-right",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=k("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);function sn(){}function Te(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}function Le(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const rn="[object RegExp]",ln="[object String]",cn="[object Number]",un="[object Boolean]",Ae="[object Arguments]",dn="[object Symbol]",pn="[object Date]",fn="[object Map]",mn="[object Set]",gn="[object Array]",hn="[object Function]",_n="[object ArrayBuffer]",se="[object Object]",yn="[object Error]",vn="[object DataView]",bn="[object Uint8Array]",wn="[object Uint8ClampedArray]",xn="[object Uint16Array]",kn="[object Uint32Array]",Cn="[object BigUint64Array]",Dn="[object Int8Array]",Sn="[object Int16Array]",Tn="[object Int32Array]",Ln="[object BigInt64Array]",An="[object Float32Array]",In="[object Float64Array]";function Ie(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype||Object.getPrototypeOf(t)===null?Object.prototype.toString.call(e)==="[object Object]":!1}function En(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}function Mn(e,t,n){return W(e,t,void 0,void 0,void 0,void 0,n)}function W(e,t,n,a,s,r,o){const c=o(e,t,n,a,s,r);if(c!==void 0)return c;if(typeof e==typeof t)switch(typeof e){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return e===t;case"number":return e===t||Object.is(e,t);case"function":return e===t;case"object":return J(e,t,r,o)}return J(e,t,r,o)}function J(e,t,n,a){if(Object.is(e,t))return!0;let s=Le(e),r=Le(t);if(s===Ae&&(s=se),r===Ae&&(r=se),s!==r)return!1;switch(s){case ln:return e.toString()===t.toString();case cn:{const l=e.valueOf(),i=t.valueOf();return En(l,i)}case un:case pn:case dn:return Object.is(e.valueOf(),t.valueOf());case rn:return e.source===t.source&&e.flags===t.flags;case hn:return e===t}n=n??new Map;const o=n.get(e),c=n.get(t);if(o!=null&&c!=null)return o===t;n.set(e,t),n.set(t,e);try{switch(s){case fn:{if(e.size!==t.size)return!1;for(const[l,i]of e.entries())if(!t.has(l)||!W(i,t.get(l),l,e,t,n,a))return!1;return!0}case mn:{if(e.size!==t.size)return!1;const l=Array.from(e.values()),i=Array.from(t.values());for(let u=0;u<l.length;u++){const d=l[u],f=i.findIndex(h=>W(d,h,void 0,e,t,n,a));if(f===-1)return!1;i.splice(f,1)}return!0}case gn:case bn:case wn:case xn:case kn:case Cn:case Dn:case Sn:case Tn:case Ln:case An:case In:{if(typeof Buffer<"u"&&Buffer.isBuffer(e)!==Buffer.isBuffer(t)||e.length!==t.length)return!1;for(let l=0;l<e.length;l++)if(!W(e[l],t[l],l,e,t,n,a))return!1;return!0}case _n:return e.byteLength!==t.byteLength?!1:J(new Uint8Array(e),new Uint8Array(t),n,a);case vn:return e.byteLength!==t.byteLength||e.byteOffset!==t.byteOffset?!1:J(new Uint8Array(e),new Uint8Array(t),n,a);case yn:return e.name===t.name&&e.message===t.message;case se:{if(!(J(e.constructor,t.constructor,n,a)||Ie(e)&&Ie(t)))return!1;const i=[...Object.keys(e),...Te(e)],u=[...Object.keys(t),...Te(t)];if(i.length!==u.length)return!1;for(let d=0;d<i.length;d++){const f=i[d],h=e[f];if(!Object.hasOwn(t,f))return!1;const O=t[f];if(!W(h,O,f,e,t,n,a))return!1}return!0}default:return!1}}finally{n.delete(e),n.delete(t)}}function Be(e,t){return Mn(e,t,sn)}const $n={name:"ConfirmDialog",props:["title","message","theme","fields","onSuccess","primaryActionLabel"],data(){return{show:!0,error:null,isLoading:!1,values:{}}},components:{FormControl:Ve,ErrorMessage:je},methods:{onConfirm(){this.error=null,this.isLoading=!0;try{let e=this.onSuccess({hide:this.hide,values:this.values});e!=null&&e.then&&e.then(()=>this.isLoading=!1).catch(t=>this.error=t)}catch(e){this.error=e}finally{this.isLoading=!1,this.hide()}},hide(){this.show=!1}}},On={key:0,class:"text-p-base text-gray-700"},Vn={class:"space-y-4"},jn={class:"flex items-center justify-end space-x-2"};function Rn(e,t,n,a,s,r){const o=M("FormControl"),c=M("ErrorMessage"),l=M("Button"),i=M("Dialog");return p(),L(i,{modelValue:s.show,"onUpdate:modelValue":t[1]||(t[1]=u=>s.show=u),options:{title:n.title}},{"body-content":D(()=>[n.message?(p(),y("p",On,I(n.message),1)):E("",!0),m("div",Vn,[(p(!0),y(P,null,Y(n.fields,u=>(p(),L(o,lt({ref_for:!0},u,{modelValue:s.values[u.fieldname],"onUpdate:modelValue":d=>s.values[u.fieldname]=d,key:u.fieldname}),null,16,["modelValue","onUpdate:modelValue"]))),128))]),x(c,{class:"mt-2",message:s.error},null,8,["message"])]),actions:D(()=>[m("div",jn,[x(l,{onClick:t[0]||(t[0]=u=>s.show=!1)},{default:D(()=>t[2]||(t[2]=[X("Cancel")])),_:1}),x(l,{variant:"solid",theme:e.$props.theme,onClick:r.onConfirm,loading:s.isLoading},{default:D(()=>[X(I(n.primaryActionLabel||"Confirm"),1)]),_:1},8,["theme","onClick","loading"])])]),_:1},8,["modelValue","options"])}const Pn=fe($n,[["render",Rn]]),Fe=w([]);function Ue({title:e="Untitled",message:t="",primaryActionLabel:n="Confirm",theme:a="gray",fields:s=[],onSuccess:r=()=>{}}){const o=j(Pn,{title:e,message:t,theme:a,fields:s,onSuccess:r,primaryActionLabel:n});Fe.value.push(o)}let K;function Nn(){if(K)return K;let e=window.socketio_port||9e3,t=window.location.hostname,n=window.site_name,a=window.location.port?`:${e}`:"",r=`${a?"http":"https"}://${t}${a}/${n}`;return K=ct(r,{withCredentials:!0,reconnectionAttempts:5}),K}const re=["Integer","Decimal"],ie=["Text","String","JSON","Array"],le=["Date","Datetime","Time"],z={NUMBER:re,TEXT:ie,DATE:le,MEASURE:re,DIMENSION:ie.concat(le),DISCRETE:ie,CONTINUOUS:re.concat(le)},go=[{label:"Auto",value:"Auto"},{label:"String",value:"String"},{label:"Text",value:"Text"},{label:"Integer",value:"Integer"},{label:"Decimal",value:"Decimal"},{label:"Date",value:"Date"},{label:"Time",value:"Time"},{label:"Datetime",value:"Datetime"},{label:"JSON",value:"JSON"},{label:"Array",value:"Array"}],ho=[{label:"Inner",icon:R(()=>v(()=>import("./JoinInnerIcon-bce5e9e9.js"),["assets/JoinInnerIcon-bce5e9e9.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css"])),value:"inner",description:"Keep only rows that have matching values in both tables"},{label:"Left",icon:R(()=>v(()=>import("./JoinLeftIcon-f8f656f6.js"),["assets/JoinLeftIcon-f8f656f6.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css"])),value:"left",description:"Keep all existing rows and include matching rows from the new table"},{label:"Right",icon:R(()=>v(()=>import("./JoinRightIcon-e7c14223.js"),["assets/JoinRightIcon-e7c14223.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css"])),value:"right",description:"Keep all rows from the new table and include matching rows from the existing table"},{label:"Full",icon:R(()=>v(()=>import("./JoinFullIcon-641be4ca.js"),["assets/JoinFullIcon-641be4ca.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css"])),value:"full",description:"Keep all rows from both tables"}],_o=[{label:"Second",value:"second"},{label:"Minute",value:"minute"},{label:"Hour",value:"hour"},{label:"Day",value:"day"},{label:"Week",value:"week"},{label:"Month",value:"month"},{label:"Quarter",value:"quarter"},{label:"Year",value:"year"}];te.extend(Ze);te.extend(Xe);const yo=e=>({type:"table",table_name:e.table_name||"",data_source:e.data_source||""}),vo=e=>({type:"query",workbook:e.workbook||"",query_name:e.query_name||""}),bo=(e,t={})=>({type:"column",column_name:e,...t}),Bn=()=>({column_name:"count",data_type:"Integer",aggregation:"count",measure_name:"count_of_rows"}),wo=e=>({type:"expression",expression:e});function xo(e,t){var i,u;if(!((i=e.rows)!=null&&i.length)||!((u=e.columns)!=null&&u.length))return[];const n=U(e.rows),a=U(e.columns),s=U(t),r=s.reverse().find(d=>d.type==="summarize"),o=s.reverse().find(d=>d.type==="pivot_wider"),c=d=>{const f=(r==null?void 0:r.dimensions.find(h=>h.dimension_name===d))||(o==null?void 0:o.rows.find(h=>h.dimension_name===d));return f?f.granularity:null};return n.map(d=>{const f={...d};return a.forEach(h=>{if(z.DATE.includes(h.type)&&c(h.name)){const O=c(h.name);f[h.name]=Z(d[h.name],O)}if(z.TEXT.includes(h.type)&&typeof d[h.name]=="string"&&d[h.name]){const O=/<[^>]*>/g;O.test(d[h.name])&&(O.lastIndex=0,f[h.name]=d[h.name].replace(O,"").replace(/\s+/g," ").trim())}}),f})}function Z(e,t){if(!e)return"";const n={second:"MMMM D, YYYY h:mm:ss A",minute:"MMMM D, YYYY h:mm A",hour:"MMMM D, YYYY h:00 A",day:"MMMM D, YYYY",week:"MMM Do, YYYY",month:"MMMM, YYYY",year:"YYYY",quarter:"[Q]Q, YYYY"};return n[t]?te(e).format(n[t]):e}function ko(e){return e!=null&&e.length?[Bn(),...e.filter(n=>z.MEASURE.includes(n.type)).map(Fn)]:[]}function Fn(e){return{aggregation:"sum",column_name:e.name,measure_name:`sum_of_${e.name}`,data_type:e.type}}function Co(e){return e!=null&&e.length?e.filter(t=>z.DIMENSION.includes(t.type)).map(Un):[]}function Un(e){const t=z.DATE.includes(e.type);return{column_name:e.name,data_type:e.type,granularity:t?"month":void 0,dimension_name:e.name}}const C={source:{label:"Source",type:"source",icon:ye,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"source",...e}),getDescription:e=>e.table.type=="table"?`${e.table.table_name}`:`${e.table.query_name}`},join:{label:"Join",type:"join",icon:j(zt,{class:"-rotate-45"}),color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"join",...e}),getDescription:e=>e.table.type=="table"?`${e.table.table_name}`:`${e.table.query_name}`},union:{label:"Union",type:"union",icon:Yt,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"union",...e}),getDescription:e=>e.table.type=="table"?`${e.table.table_name}`:`${e.table.query_name}`},select:{label:"Select",type:"select",icon:Gt,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"select",...e}),getDescription:e=>`${e.column_names.length} columns`},remove:{label:"Remove",type:"remove",icon:an,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"remove",...e}),getDescription:e=>e.column_names.length<3?`${e.column_names.join(", ")}`:`${e.column_names.length} columns`},rename:{label:"Rename",type:"rename",icon:Pt,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"rename",...e}),getDescription:e=>`${e.column.column_name} -> ${e.new_name}`},cast:{label:"Cast",type:"cast",icon:en,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"cast",...e}),getDescription:e=>`${e.column.column_name} -> ${e.data_type}`},filter:{label:"Filter",type:"filter",icon:De,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"filter",...e}),getDescription:e=>e.expression?"custom expression":`${e.column.column_name}`},filter_group:{label:"Filter Group",type:"filter_group",icon:De,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"filter_group",...e}),getDescription:e=>{if(!e.filters.length)return"empty";const t=e.filters.map(a=>"expression"in a?"custom expression":a.column.column_name),n=t.length-2;return`${t.slice(0,2).join(", ")}${n>0?` & ${n} more`:""}`}},mutate:{label:"Calculate",type:"mutate",icon:nn,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"mutate",...e}),getDescription:e=>`${e.new_name}`},summarize:{label:"Summarize",type:"summarize",icon:Bt,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"summarize",...e}),getDescription:e=>{const t=e.measures.map(a=>a.measure_name).join(", "),n=e.dimensions.map(a=>a.column_name).join(", ");return`${t} BY ${n}`}},pivot_wider:{label:"Pivot",type:"pivot_wider",icon:Nt,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"pivot_wider",...e}),getDescription:e=>"Pivot Wider"},order_by:{label:"Sort",type:"order_by",icon:Ut,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"order_by",...e}),getDescription:e=>`${e.column.column_name} ${e.direction}`},limit:{label:"Limit",type:"limit",icon:Wt,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"limit",limit:e}),getDescription:e=>`${e.limit}`},custom_operation:{label:"Custom Operation",type:"custom_operation",icon:Ce,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"custom_operation",...e}),getDescription:e=>`${e.expression.expression}`},sql:{label:"SQL",type:"sql",icon:tn,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"sql",...e}),getDescription:e=>"SQL"},code:{label:"Code",type:"code",icon:Ce,color:"gray",class:"text-gray-600 bg-gray-100",init:e=>({type:"code",...e}),getDescription:e=>"Code"}},Do=C.source.init,So=C.join.init,To=C.union.init,Lo=C.select.init,Ao=C.rename.init,Io=C.remove.init,Eo=C.cast.init;C.filter.init;const Mo=C.filter_group.init,$o=C.mutate.init,Oo=C.summarize.init,Vo=C.pivot_wider.init,jo=C.order_by.init,Ro=C.limit.init,Po=C.custom_operation.init,No=C.sql.init,Bo=C.code.init,Ye={email:"",first_name:"",last_name:"",full_name:"",user_image:"",is_admin:!1,is_user:!1,country:"",locale:"en-US",is_v2_instance:!1,default_version:""},g=me({user:{...Ye},initialized:!1,isLoggedIn:S(()=>!1),isAuthorized:S(()=>!1),initialize:Yn,fetchSessionInfo:ze,updateDefaultVersion:zn,login:Hn,logout:qn,resetSession:ve});g.isLoggedIn=S(()=>g.user.email&&g.user.email!=="Guest");g.isAuthorized=S(()=>g.user.is_admin||g.user.is_user);async function Yn(e=!1){g.initialized&&!e||(Object.assign(g.user,Gn()),g.isLoggedIn&&await ze(),g.initialized=!0)}async function ze(){if(!g.isLoggedIn)return;const e=await A("insights.api.get_user_info");Object.assign(g.user,{...e,is_admin:!!e.is_admin,is_user:!!e.is_user,is_v2_instance:!!e.is_v2_instance,has_desk_access:!!e.has_desk_access})}function zn(e){return g.user.default_version=e,A("insights.api.update_default_version",{version:e})}async function Hn(e,t){ve();const n=await A("login",{usr:e,pwd:t});n&&(Object.assign(g.user,n),window.location.reload())}async function qn(){ve(),await A("logout"),window.location.reload()}function ve(){Object.assign(g.user,{...Ye})}function Gn(){return document.cookie.split("; ").map(e=>e.split("=")).reduce((e,[t,n])=>(t=t==="user_id"?"email":t,e[t]=decodeURIComponent(n),e),{})}const Wn={class:"m-2 flex transition duration-200 ease-out"},Jn={class:"flex items-start"},Kn={key:0,class:"mr-2 pt-1"},Qn={class:"text-p-base font-medium text-gray-900"},Zn={key:0,class:"text-p-sm text-gray-600"},Xn=["innerHTML"],ea={key:1},ta={class:"ml-auto pl-2"},na=N({__name:"Toast",props:{title:{},message:{},variant:{},icon:{},iconClasses:{}},setup(e){const t=e,n=S(()=>{var o;return(o=t.message)==null?void 0:o.includes("<")}),a=S(()=>{if(t.variant==="success")return"bg-green-50";if(t.variant==="info")return"bg-blue-50";if(t.variant==="warning")return"bg-orange-50";if(t.variant==="error")return"bg-red-50"}),s=S(()=>{if(t.variant==="success")return"check";if(t.variant==="info")return"info";if(t.variant==="warning")return"alert-circle";if(t.variant==="error")return"x"}),r=S(()=>{if(t.variant==="success")return"text-white bg-green-600 p-0.5";if(t.variant==="info")return"text-white bg-blue-600";if(t.variant==="warning")return"text-white bg-orange-600";if(t.variant==="error")return"text-white bg-red-600 p-0.5"});return(o,c)=>{const l=M("FeatherIcon");return p(),y("div",Wn,[m("div",{class:T(["w-[22rem] rounded bg-white p-3 shadow-md",a.value])},[m("div",Jn,[o.icon||s.value?(p(),y("div",Kn,[x(l,{name:o.icon||s.value,class:T(["h-4 w-4 rounded-full",r.value,o.iconClasses])},null,8,["name","class"])])):E("",!0),m("div",null,[ce(o.$slots,"default",{},()=>[m("p",Qn,I(o.title),1),o.message?(p(),y("p",Zn,[n.value?(p(),y("span",{key:0,innerHTML:o.message},null,8,Xn)):(p(),y("span",ea,I(o.message),1))])):E("",!0)])]),m("div",ta,[ce(o.$slots,"actions")])])],2)])}}});function $(e){const t={...e};!e.title&&e.message&&(t.title=aa(e.variant),t.message=e.message);const n=j(na,{title:t.title||"",message:t.message,variant:e.variant});et.custom(ut(n),{duration:t.duration||5e3})}function Fo(e){$({message:e,variant:"info"})}function Uo(e){$({message:e,variant:"success"})}function Yo(e=8){return(+new Date*Math.random()).toString(36).substring(0,e)}function aa(e){return e.toLowerCase().split(" ").map(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}).join(" ")}function U(e){return e&&JSON.parse(JSON.stringify(e))}function zo(e,t,n={}){let a;return ge(e,(s,r,o)=>{Be(s,a)||(a=U(s),t(s,a,o))},n)}function oa(e,t,n={}){const a=()=>Ee(e,t,n);if(!n.toggleCondition){a();return}if(n.toggleCondition){let s=!1,r;Ee(n.toggleCondition,o=>{o&&!s?(s=!0,r=a()):!o&&s&&(s=!1,r())},{immediate:!0})}}function Ee(e,t,n={}){let a=t;return n.debounce&&(a=dt(a,n.debounce)),Re(e,a,n)}function be(e){return new Promise(t=>{if(e()){t();return}const n=Re(e,a=>{a&&(n(),t())})})}function Ho(e,t){const n=localStorage.getItem(e);return ge(t,a=>localStorage.setItem(e,JSON.stringify(a)),{debounce:500,deep:!0}),n?JSON.parse(n):t()}function sa(e){var n,a;return((a=(n=e.exc)==null?void 0:n.split(`
`).filter(Boolean).at(-1))==null?void 0:a.trim().split(": ").slice(1).join(": "))||e.message||e.toString()}function F(e,t=!0){if($({variant:"error",title:"Error",message:sa(e)}),t)throw e}function qo(e,t,n=2,a={}){return tt.toPng(e,{height:e.scrollHeight*n,width:e.scrollWidth*n,style:{transform:"scale("+n+")",transformOrigin:"top left",width:e.scrollWidth+"px",height:e.scrollHeight+"px"},bgColor:"white",...a}).then(function(s){const r=new Image;r.src=s,r.onload=async()=>{const o=document.createElement("a");o.download=t,o.href=r.src,o.click()}})}function Go(e,t=0){var a,s;if(isNaN(e))return e;t=t||ra(e);const n=((a=g.user)==null?void 0:a.country)=="India"?"en-IN":(s=g.user)==null?void 0:s.locale;return new Intl.NumberFormat(n||"en-US",{minimumFractionDigits:t,maximumFractionDigits:t}).format(e)}function ra(e){if(!e||isNaN(e))return 0;const t=e.toString(),n=t.indexOf(".");return n===-1?0:Math.min(t.length-n-1,2)}function Wo(e,t=0){var s,r;const n=((s=g.user)==null?void 0:s.country)=="India"?"en-IN":(r=g.user)==null?void 0:r.locale;let a=new Intl.NumberFormat(n||"en-US",{notation:"compact",maximumFractionDigits:t}).format(e);return n=="en-IN"&&(a=a.replace("T","K")),a}function Jo(e,{term:t,keys:n}){const a=t.toLowerCase();return e.reduce((r,o)=>{const c=n.reduce((l,i)=>{const u=o[i];if(u){const d=u.toLowerCase().indexOf(a);if(d!==-1)return l+d+1}return l},0);return c&&r.push({item:o,score:c}),r},[]).sort((r,o)=>r.score-o.score).map(r=>r.item)}function Ko(e,t=null){if(e==null)return t;if(typeof e!="string")return e;try{return JSON.parse(e)}catch(n){return console.groupCollapsed("Error parsing JSON"),console.log(e),console.error(n),console.groupEnd(),$({message:"Error parsing JSON",variant:"error"}),t}}function Qo(e){if(navigator.clipboard)navigator.clipboard.writeText(e),$({variant:"success",title:"Copied to clipboard"});else{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),$({variant:"success",title:"Copied to clipboard"})}catch{$({variant:"error",title:"Copy to clipboard not supported"})}finally{document.body.removeChild(t)}}}function Zo(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}function Xo(e){return e.length?"group"in e[0]?e.map(t=>t.items).flat():e:[]}function es(e,t){return e.map(n=>(Object.keys(t).forEach(a=>{n[a]=n[t[a]]}),n))}function ts(e){return z.DATE.includes(e)}function ia(e,t){const n=pt("$socket");n.on(e,t),ft(()=>{n.off(e)})}function ns(e){const t=e.filter(o=>o.name.includes("___")),n=t.length?t[0].name.split("___").length:1,a=e.map(o=>({...o,isNested:o.name.includes("___"),parts:o.name.split("___").reverse()})),s=[];for(let o=0;o<n;o++){const c=[];for(let l of a){const i=l.isNested,u=o===n-1;c.push({label:i?l.parts[o]:u?l.name:"",level:o,isLast:u,column:l})}s.push(c)}const r=[];for(let o of s){const c=[];let l=o[0],i=1;for(let u=1;u<o.length;u++){const d=o[u];d.label===l.label?i++:(c.push({...l,colspan:i}),l=d,i=1)}c.push({...l,colspan:i}),r.push(c)}for(let o of r){const c=ua(o.map(u=>u.label));if(!c)continue;const l=ca(o.map(u=>u.label)),i=la(o.map(u=>u.label));for(let u of o)He(u.label)&&(l?u.label=Z(u.label,"year"):i?u.label=Z(u.label,"month"):c&&(u.label=Z(u.label,"day")))}return r}function la(e){const t=n=>new Date(n).getDate()===1;return e.map(t).filter(Boolean).length/e.length>=.5}function ca(e){const t=n=>new Date(n).getMonth()===0&&new Date(n).getDate()===1;return e.map(t).filter(Boolean).length/e.length>=.5}function ua(e){return e.map(He).filter(Boolean).length/e.length>=.5}function He(e){if(!e||!/\d{4}/.test(e))return!1;const t=new Date(e);return!isNaN(t.getTime())&&t.getFullYear()>=1900&&t.getFullYear()<=2900}const Q=new Map;function as(e,t){const n=JSON.stringify({url:e,options:t});return Q.has(n)?Promise.resolve(Q.get(n)):A(e,t).then(a=>(Q.set(n,a),a)).catch(a=>{throw Q.delete(n),a})}function os(e){return e&&e.replace(/&/g,"and").toLowerCase().split(" ").map(t=>t==="and"?"and":t.charAt(0).toUpperCase()+t.slice(1)).join(" ").trim()}const da={get:"insights.api.get_doc",insert:"frappe.client.insert",update:"frappe.client.set_value",delete:"frappe.client.delete",call:"insights.api.run_doc_method"};function pa(e,t,n){const a=w(n.initialDoc),s=w(U(n.initialDoc)),r=w(String(t)),o=w(r.value.startsWith("new-")),c=w(r.value&&!r.value.startsWith("new-")),l=w(!1),i=w(!1),u=w(!1),d=w(n.enableAutoSave??!1),f={...da,...n.apiMethods},h={afterLoad:new Set,beforeInsert:new Set,afterInsert:new Set,beforeSave:new Set,afterSave:new Set},O=n.transform||(_=>_),H=S(()=>!Be(a.value,s.value));async function xe(){if(!o.value)return;await q(h.beforeInsert),i.value=!0;const _=await A(f.insert,{doc:{doctype:e,...Me(a.value)}}).catch(F).finally(()=>i.value=!1);return oe(_),o.value=!1,await q(h.afterInsert),_}async function ke(){return i.value?(await be(()=>!i.value),a.value):(!H.value&&!o.value||(i.value=!0,await q(h.beforeSave),o.value?await xe():await Ge(),i.value=!1,await q(h.afterSave)),a.value)}async function Ge(){i.value=!0;const _=await A(f.update,{doctype:e,name:r.value,fieldname:Me(a.value)}).catch(F).finally(()=>i.value=!1);_&&oe(_)}async function ae(){if(o.value)return;c.value=!0;const _=await A(f.get,{doctype:e,name:r.value}).catch(F).finally(()=>c.value=!1);_&&(oe(_),await q(h.afterLoad,[a.value]),c.value=!1,l.value=!0)}async function We(_,V={}){return c.value=!0,(await A(f.call,{method:_,docs:{...a.value||{},__islocal:o.value},args:V}).catch(F).finally(()=>c.value=!1)).message}async function Je(){u.value=!0,await A(f.delete,{doctype:e,name:r.value}).catch(F).finally(()=>u.value=!1)}function oe(_){a.value=O({..._}),s.value=U(a.value),r.value=_.name}const q=async(_,V=[])=>{await Promise.all(Array.from(_).map(G=>G(...V)))},Ke=()=>{oa(H,ke,{toggleCondition:()=>d.value&&!o.value,immediate:!0,debounce:1500})},Qe=()=>{var G;if(n.disableLocalStorage)return;const _=`insights:resource:${e}:${r.value}`,V=he(_,{doc:null,originalDoc:null});(G=V.value)!=null&&G.doc&&(new Date(a.value.modified).getTime()>new Date(V.value.doc.modified).getTime()||(a.value=V.value.doc,s.value=V.value.originalDoc)),ge(H,()=>{V.value=H.value?{doc:a.value,originalDoc:s.value}:null},{immediate:!0,deep:!0})};return ae().then(Qe).then(Ke),me({doctype:e,name:r,doc:a,originalDoc:s,isdirty:H,islocal:o,loading:c,isloaded:l,saving:i,deleting:u,autoSave:d,onBeforeInsert:_=>h.beforeInsert.add(_),onAfterInsert:_=>h.afterInsert.add(_),onBeforeSave:_=>h.beforeSave.add(_),onAfterSave:_=>h.afterSave.add(_),onAfterLoad:_=>h.afterLoad.add(_),insert:xe,save:ke,load:ae,call:We,delete:Je,discard(){Ue({title:"Discard Changes",message:"Are you sure you want to discard changes?",onSuccess:()=>ae()})}})}const fa=["doctype","name","owner","creation","modified","modified_by","docstatus","parent","parentfield","parenttype"];function Me(e){const t={...e};return fa.forEach(n=>delete t[n]),t}let de;function ma(){return de||ga()}function ga(){const e="Insights Settings",t=pa(e,e,{initialDoc:{name:"",enable_permissions:!1,allowed_origins:"",max_records_to_sync:1e6,max_memory_usage:512,fiscal_year_start:"2024-04-01",week_starts_on:"Monday",enable_data_store:!1,apply_user_permissions:!1},disableLocalStorage:!0});return t.onAfterSave(()=>$({title:"Settings Updated",message:"Your settings have been updated successfully",variant:"success"})),de=t,t}const ha={class:"grid h-5 w-6 flex-shrink-0 place-items-center"},pe=N({__name:"SidebarLink",props:{icon:{},label:{},to:{},isCollapsed:{type:Boolean},isActive:{type:Boolean}},setup(e){const t=mt(),n=e;function a(){t.push({name:n.to})}let s=S(()=>t.currentRoute.value.name===n.to||n.isActive);return(r,o)=>{const c=M("Tooltip");return p(),y("button",{class:T(["flex h-7 cursor-pointer items-center rounded text-gray-800 duration-300 ease-in-out focus:outline-none focus:transition-none focus-visible:rounded focus-visible:ring-2 focus-visible:ring-gray-400",b(s)?"bg-white shadow-sm":"hover:bg-gray-100"]),onClick:a},[m("div",{class:T(["flex items-center overflow-hidden duration-300 ease-in-out",r.isCollapsed?"p-1":"px-2 py-1"])},[x(c,{text:r.label,placement:"right"},{default:D(()=>[ce(r.$slots,"icon",{},()=>[m("span",ha,[(p(),L(_e(r.icon),{class:"h-4.5 w-4.5 text-gray-700","stroke-width":"1.5"}))])])]),_:3},8,["text"]),m("span",{class:T(["flex-1 flex-shrink-0 text-base duration-300 ease-in-out",r.isCollapsed?"ml-0 w-0 overflow-hidden opacity-0":"ml-2 w-auto truncate opacity-100"])},I(r.label),3)],2)],2)}}}),_a={class:"flex h-full w-full"},ya={class:"flex w-52 shrink-0 flex-col overflow-hidden bg-gray-50 p-2"},va={key:0,class:"px-2 pt-2 text-lg font-semibold"},ba={class:"flex min-h-[6rem] flex-col overflow-hidden"},wa={key:0,class:"mb-2 mt-4 flex flex-shrink-0 px-2 text-sm font-medium text-gray-600"},xa={class:"flex-1 space-y-1 overflow-y-scroll p-0.5"},ka={class:"flex h-full flex-1 flex-col overflow-hidden"},Ca=N({__name:"TabbedSidebarLayout",props:ee({title:{},tabs:{}},{activeTab:{type:Object},activeTabModifiers:{}}),emits:["update:activeTab"],setup(e){const t=e,n=S(()=>t.tabs.length?t.tabs[0].hasOwnProperty("tabs")?t.tabs:[{groupLabel:"",tabs:t.tabs}]:[]),a=ne(e,"activeTab");return(s,r)=>(p(),y("div",_a,[m("div",ya,[t.title?(p(),y("h1",va,I(t.title),1)):E("",!0),(p(!0),y(P,null,Y(n.value,o=>(p(),y("div",ba,[o.groupLabel?(p(),y("div",wa,[m("span",null,I(o.groupLabel),1)])):E("",!0),m("nav",xa,[(p(!0),y(P,null,Y(o.tabs,c=>{var l;return p(),L(pe,{icon:c.icon,label:c.label,class:"w-full","is-active":((l=a.value)==null?void 0:l.label)==c.label,onClick:i=>a.value=c},null,8,["icon","label","is-active","onClick"])}),256))])]))),256))]),m("div",ka,[a.value&&a.value.component?(p(),L(_e(a.value.component),{key:0})):E("",!0)])]))}}),Da={class:"relative flex text-base",style:{height:"calc(100vh - 12rem)"}},Sa=N({__name:"Settings",props:{modelValue:{required:!0,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=ne(e,"modelValue"),n=[{groupLabel:"Account",tabs:[{label:"Profile",icon:qt,component:R(()=>v(()=>import("./ProfileSettings-637b4ea9.js"),["assets/ProfileSettings-637b4ea9.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/users-398754d3.js","assets/index-77f7bd6f.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"]))}]},{groupLabel:"Organization",tabs:[{label:"General",icon:Oe,component:R(()=>v(()=>import("./GeneralSettings-501bc38f.js"),["assets/GeneralSettings-501bc38f.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/DatePickerControl.vue_vue_type_script_setup_true_lang-6baff6f5.js","assets/Popover-5414f173.js","assets/calendar-1687c485.js","assets/index-77f7bd6f.js","assets/SettingItem.vue_vue_type_script_setup_true_lang-59f6e724.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"]))},{label:"Users",icon:on,component:R(()=>v(()=>import("./UsersSettings-6e2ea9d4.js"),["assets/UsersSettings-6e2ea9d4.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/IndicatorIcon-21535c9e.js","assets/users-398754d3.js","assets/search-34ad51bc.js","assets/index-77f7bd6f.js","assets/plus-3394075c.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"]))},{label:"Permissions",icon:Jt,component:R(()=>v(()=>import("./PermissionsSettings-4a0a83dd.js"),["assets/PermissionsSettings-4a0a83dd.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/UserSelector.vue_vue_type_script_setup_true_lang-09c49be5.js","assets/Autocomplete-e91e4d1c.js","assets/Popover-5414f173.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/users-398754d3.js","assets/search-34ad51bc.js","assets/data_source-00c6028c.js","assets/tables-0e8be38f.js","assets/ExpressionEditor.vue_vue_type_style_index_0_lang-9e2463ac.js","assets/vue-codemirror.esm-d1d2df5a.js","assets/ExpressionEditor-73d6dd60.css","assets/chevron-down-7c5e9308.js","assets/chevron-right-abc82e4c.js","assets/SettingItem.vue_vue_type_script_setup_true_lang-59f6e724.js","assets/plus-3394075c.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js"]))},{label:"Data Store",icon:ye,component:R(()=>v(()=>import("./DataStoreSettings-a2d72465.js"),["assets/DataStoreSettings-a2d72465.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/SettingItem.vue_vue_type_script_setup_true_lang-59f6e724.js","assets/index-77f7bd6f.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"]))}]}],a=gt(n[0].tabs[0]);return(s,r)=>{const o=M("Dialog");return p(),L(o,{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=c=>t.value=c),options:{size:"4xl"}},{body:D(()=>[m("div",Da,[x(Ca,{title:"Settings",tabs:n,activeTab:a.value,"onUpdate:activeTab":r[0]||(r[0]=c=>a.value=c)},null,8,["activeTab"])])]),_:1},8,["modelValue"])}}}),Ta="/assets/insights/frontend/assets/insights-logo-new-8985b781.svg",La={},Aa={width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ia(e,t){return p(),y("svg",Aa,t[0]||(t[0]=[m("rect",{x:"0.75",y:"0.75",width:"30.5",height:"30.5",rx:"6.25",stroke:"currentColor","stroke-width":"1.5"},null,-1),m("path",{d:"M24.5011 14.1124C23.3954 12.4873 21.532 11.5477 19.594 11.6747C18.7616 10.1384 17.2211 9.12267 15.4198 9.0084C14.1651 8.93222 12.8979 9.3766 11.9165 10.24C11.2456 10.8367 10.7611 11.5223 10.463 12.2968C10.289 12.7539 9.89151 13.0459 9.46912 13.0459H6.5V15.5852H9.46912C10.9226 15.5852 12.2271 14.6584 12.7737 13.2237C12.9227 12.8301 13.1712 12.4873 13.5439 12.1571C14.0284 11.7255 14.662 11.4969 15.2583 11.535C16.1528 11.5985 16.7863 12.0175 17.1839 12.538C17.6063 13.0205 17.8423 13.7696 17.979 14.5187C18.774 14.2902 19.6437 14.0997 20.476 14.2394C21.1593 14.3536 21.7929 14.7218 22.2525 15.2678C22.327 15.3567 22.4016 15.4456 22.4637 15.5471C23.06 16.4232 23.1718 17.5024 22.7743 18.5689C22.414 19.5592 21.0847 20.4607 19.9791 20.4607H11.3326C10.1524 20.4607 9.18339 19.5592 9.03432 18.4038H6.54969C6.71119 20.9686 8.78585 23 11.3326 23H19.9915C22.1283 23 24.3769 21.451 25.1098 19.4704C25.7931 17.6167 25.5695 15.6614 24.5135 14.0997L24.5011 14.1124Z",fill:"currentColor"},null,-1)]))}const Ea=fe(La,[["render",Ia]]),Ma={class:"mt-1 text-sm leading-none text-gray-700"},$a=N({__name:"UserDropdown",props:{isCollapsed:{type:Boolean}},setup(e){const t=e,n=w(!1),a=w(!1),s=w([{label:"Documentation",icon:j(Ht),onClick:()=>window.open("https://docs.frappe.io/insights","_blank")},{label:"Join Telegram Group",icon:j(Zt),onClick:()=>window.open("https://t.me/frappeinsights","_blank")},{label:"Log out",icon:j(Qt),onClick:()=>Ue({title:"Log out",message:"Are you sure you want to log out?",onSuccess:g.logout})}]);be(()=>g.initialized).then(()=>{g.user.is_v2_instance&&s.value.splice(s.value.length-2,0,{label:"Switch to Insights v2",icon:j(Se),onClick:()=>n.value=!0}),g.user.is_admin&&s.value.splice(s.value.length-2,0,{label:"Switch to Desk",icon:j(Se),onClick:()=>window.open("/app","_blank")})}),window.is_fc_site&&s.value.splice(s.value.length-1,0,{icon:j(Ea),label:"Login to Frappe Cloud",onClick:()=>a.value=!0});function r(){g.updateDefaultVersion(g.user.default_version).then(()=>{window.location.href="/insights_v2"})}const o=w(!1);function c(){o.value=!0,A("frappe.integrations.frappe_providers.frappecloud_billing.current_site_info").then(l=>{if(!l.base_url||!l.site_name)throw new Error("Invalid response");window.open(`${l.base_url}/dashboard/sites/${l.site_name}`,"_blank")}).catch(F).finally(()=>{o.value=!1})}return(l,i)=>{const u=M("FormControl"),d=M("Dialog");return p(),y("div",null,[x(b(Pe),{options:s.value},{default:D(({open:f})=>[m("button",{class:T(["flex h-12 items-center rounded-md py-2 duration-300 ease-in-out",t.isCollapsed?"w-auto px-0":f?"w-52 bg-white px-2 shadow-sm":"w-52 px-2 hover:bg-gray-200"])},[i[4]||(i[4]=m("img",{src:Ta,alt:"logo",class:"h-8 w-8 flex-shrink-0 rounded"},null,-1)),m("div",{class:T(["flex flex-1 flex-col text-left duration-300 ease-in-out",t.isCollapsed?"ml-0 w-0 overflow-hidden opacity-0":"ml-2 w-auto opacity-100"])},[i[3]||(i[3]=m("div",{class:"text-base font-medium leading-none text-gray-900"},"Insights",-1)),m("div",Ma,I(b(g).user.full_name),1)],2),m("div",{class:T(["duration-300 ease-in-out",t.isCollapsed?"ml-0 w-0 overflow-hidden opacity-0":"ml-2 w-auto opacity-100"])},[x(b(Ft),{class:"h-4 w-4 text-gray-600","aria-hidden":"true"})],2)],2)]),_:1},8,["options"]),x(d,{modelValue:n.value,"onUpdate:modelValue":i[1]||(i[1]=f=>n.value=f),options:{title:"Switch to Insights v2",actions:[{label:"Continue",variant:"solid",onClick:r}]}},{"body-content":D(()=>[i[5]||(i[5]=m("div",{class:"prose prose-sm mb-4"},[m("p",null,"Switch to the old version of Insights?")],-1)),x(u,{type:"checkbox",label:"Set Insights v2 as default",modelValue:b(g).user.default_version==="v2","onUpdate:modelValue":i[0]||(i[0]=f=>b(g).user.default_version=f?"v2":"")},null,8,["modelValue"])]),_:1},8,["modelValue","options"]),x(d,{modelValue:a.value,"onUpdate:modelValue":i[2]||(i[2]=f=>a.value=f),options:{title:"Login to Frappe Cloud?",message:"Are you sure you want to login to your Frappe Cloud dashboard?",actions:[{label:"Confirm",variant:"solid",loading:o.value,onClick(){c(),a.value.value=!1}}]}},null,8,["modelValue","options"])])}}});w(!1);w(!1);me({});he("onboardingStatus",{});w(!1);const Oa={},Va={width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ja(e,t){return p(),y("svg",Va,t[0]||(t[0]=[m("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.2641 1C5.5758 1 4.97583 1.46845 4.80889 2.1362L3.57555 7.06953C3.33887 8.01625 4.05491 8.93333 5.03077 8.93333H7.50682L6.72168 14.4293C6.68838 14.6624 6.82229 14.8872 7.04319 14.9689C7.26408 15.0507 7.51204 14.9671 7.63849 14.7684L13.2161 6.00354C13.6398 5.33782 13.1616 4.46667 12.3725 4.46667H9.59038L10.3017 1.62127C10.3391 1.4719 10.3055 1.31365 10.2108 1.19229C10.116 1.07094 9.97063 1 9.81666 1H6.2641ZM5.77903 2.37873C5.83468 2.15615 6.03467 2 6.2641 2H9.17627L8.46492 4.8454C8.42758 4.99477 8.46114 5.15302 8.55589 5.27437C8.65064 5.39573 8.79602 5.46667 8.94999 5.46667H12.3725L8.0395 12.2757L8.5783 8.50404C8.5988 8.36056 8.55602 8.21523 8.46105 8.10573C8.36608 7.99623 8.22827 7.93333 8.08332 7.93333H5.03077C4.70548 7.93333 4.4668 7.62764 4.5457 7.31207L5.77903 2.37873Z",fill:"currentColor"},null,-1)]))}const $e=fe(Oa,[["render",ja]]),Ra={key:0,class:"flex flex-col gap-3 shadow-sm rounded-lg py-2.5 px-3 bg-surface-modal text-base"},Pa={class:"flex flex-col gap-1"},Na={class:"inline-flex text-ink-gray-9 gap-2 items-center font-medium"},Ba="Upgrade to a paid plan for uninterrupted services",Fa={__name:"TrialBanner",props:{isSidebarCollapsed:{type:Boolean,default:!1},afterUpgrade:{type:Function,default:()=>{}}},setup(e){const t=e,n=w(0),a=w(!1),s=w("https://frappecloud.com"),r=w(""),o=S(()=>n.value>1?"Trial ends in "+n.value+" days":"Trial ends tomorrow");ht({url:"frappe.integrations.frappe_providers.frappecloud_billing.current_site_info",cache:"current_site_info_data",auto:!0,onSuccess:i=>{n.value=c(i.trial_end_date),s.value=i.base_url,r.value=i.site_name,a.value=i.setup_complete&&i.plan.is_trial_plan&&n.value>0}});function c(i){if(!i)return 0;i=new Date(i);const d=i-new Date;return Math.ceil(d/(1e3*60*60*24))}function l(){var i;window.open(`${s.value}/dashboard/sites/${r.value}`,"_blank"),(i=t.afterUpgrade)==null||i.call(t)}return(i,u)=>!e.isSidebarCollapsed&&a.value?(p(),y("div",Ra,[m("div",Pa,[m("div",Na,[x(Ne,{class:"h-4",name:"info"}),X(" "+I(o.value),1)]),m("div",{class:"text-ink-gray-7 text-p-sm"},I(Ba))]),x(b(ue),{label:"Upgrade plan",theme:"blue",onClick:l},{prefix:D(()=>[x($e,{class:"size-4"})]),_:1})])):e.isSidebarCollapsed&&a.value?(p(),L(b(ue),{key:1,onClick:l},{default:D(()=>[x($e,{class:"h-4 my-0.5 shrink-0"})]),_:1})):E("",!0)}},Ua={class:"flex flex-col overflow-hidden"},Ya={class:"flex flex-col overflow-y-auto"},za={class:"grid h-5 w-6 flex-shrink-0 place-items-center"},Ha=N({__name:"AppSidebar",setup(e){const t=he("insights:sidebarCollapsed",!1),n=w(!1),a=ma(),s=window.is_fc_site,r=w([{label:"Dashboards",icon:Kt,to:"DashboardList"},{label:"Workbooks",icon:nt,to:"WorkbookList"},{label:"Data Sources",icon:at,to:"DataSourceList"},{label:"Data Store",icon:ye,to:"DataStoreList",hidden:S(()=>!a.doc.enable_data_store)},{label:"Settings",icon:Oe,to:"Settings",onClick:()=>n.value=!0}]);return(o,c)=>(p(),y(P,null,[m("div",{class:T(["flex h-full flex-col justify-between transition-all duration-300 ease-in-out",b(t)?"w-12":"w-56"])},[m("div",Ua,[x($a,{class:"p-2",isCollapsed:b(t)},null,8,["isCollapsed"]),m("div",Ya,[(p(!0),y(P,null,Y(r.value,l=>(p(),y(P,null,[l.hidden?E("",!0):(p(),L(pe,{key:0,class:"mx-2 my-0.5",icon:l.icon,label:l.label,to:l.to,isCollapsed:b(t),onClick:l.onClick},null,8,["icon","label","to","isCollapsed","onClick"]))],64))),256))])]),m("div",null,[b(s)?(p(),L(b(Fa),{key:0,"is-sidebar-collapsed":b(t)},null,8,["is-sidebar-collapsed"])):E("",!0),x(pe,{label:b(t)?"Expand":"Collapse",isCollapsed:b(t),onClick:c[0]||(c[0]=l=>t.value=!b(t)),class:"m-2"},{icon:D(()=>[m("span",za,[x(b(Xt),{class:T(["h-4.5 w-4.5 text-gray-700 duration-300 ease-in-out",{"[transform:rotateY(180deg)]":b(t)}]),"stroke-width":"1.5"},null,8,["class"])])]),_:1},8,["label","isCollapsed"])])],2),x(Sa,{modelValue:n.value,"onUpdate:modelValue":c[1]||(c[1]=l=>n.value=l)},null,8,["modelValue"])],64))}});(function(e,t){var n,a,s,r;t.__SV||(window.posthog=t,t._i=[],t.init=function(o,c,l){function i(d,f){var h=f.split(".");h.length==2&&(d=d[h[0]],f=h[1]),d[f]=function(){d.push([f].concat(Array.prototype.slice.call(arguments,0)))}}(s=e.createElement("script")).type="text/javascript",s.async=!0,s.src=c.api_host+"/static/array.js",(r=e.getElementsByTagName("script")[0]).parentNode.insertBefore(s,r);var u=t;for(l!==void 0?u=t[l]=[]:l="posthog",u.people=u.people||[],u.toString=function(d){var f="posthog";return l!=="posthog"&&(f+="."+l),d||(f+=" (stub)"),f},u.people.toString=function(){return u.toString(1)+".people (stub)"},n="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags".split(" "),a=0;a<n.length;a++)i(u,n[a]);t._i.push([o,c,l])},t.__SV=1)})(document,window.posthog||[]);const qe={init:(e,t)=>{},identify:e=>{},startSessionRecording:()=>{},capture:(e,t)=>{}};function qa(){A("insights.api.telemetry.get_posthog_settings").then(e=>{!e.enable_telemetry||!e.posthog_project_id||window.posthog.init(e.posthog_project_id,{api_host:e.posthog_host,person_profiles:"identified_only",autocapture:!1,capture_pageview:!1,capture_pageleave:!1,enable_heatmaps:!1,disable_session_recording:!0,loaded:t=>{t.identify(e.posthog_identifier||window.location.host),Object.assign(qe,t),e.record_session&&t.startSessionRecording()}})})}const Ga={posthog:qe,init:qa},Wa={class:"flex h-screen w-screen overflow-hidden bg-white text-base antialiased"},Ja={key:0,class:"h-full border-r bg-gray-50"},Ka={class:"flex h-full flex-1 flex-col overflow-auto"},Qa=N({__name:"App",setup(e){const t=_t(),n=w(!0);return yt(()=>{t.fullPath!=="/"&&(n.value=!!(t.meta.isGuestView||t.meta.hideSidebar))}),S(()=>t.meta.isGuestView||!g.isLoggedIn),be(()=>g.isLoggedIn).then(()=>{Ga.init()}),ia("insights_notification",a=>{a.user==g.user.email&&$({title:a.title||a.message,message:a.title?a.message:"",variant:a.type,duration:a.duration?a.duration*1e3:4e3})}),(a,s)=>{const r=M("RouterView");return p(),y("div",Wa,[n.value?E("",!0):(p(),y("div",Ja,[x(Ha)])),m("div",Ka,[(p(),L(vt,null,{default:D(()=>[x(r)]),_:1}))]),m("template",null,[(p(!0),y(P,null,Y(b(Fe),o=>(p(),L(_e(o),{key:o.id}))),128))]),x(b(ot),{position:"bottom-right",expand:!0,"close-button":!0,"toast-options":{duration:4e3}})])}}}),Za={class:"flex items-center justify-between text-sm"},Xa=N({__name:"Checkbox",props:ee({label:{},size:{},disabled:{type:Boolean}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=ne(e,"modelValue"),n=e;return(a,s)=>(p(),L(b(Ct),bt(wt(a.$attrs)),{default:D(()=>[m("div",Za,[a.$props.label?(p(),L(b(xt),{key:0,class:"mr-4 select-none text-xs text-gray-600"},{default:D(()=>[X(I(a.$props.label),1)]),_:1})):E("",!0),x(b(kt),{modelValue:!!t.value,"onUpdate:modelValue":s[0]||(s[0]=r=>t.value=!!r),class:T(["relative inline-flex items-center rounded-full transition-colors",[t.value?"bg-gray-900":"bg-gray-300",n.size==="sm"?"h-4 w-6.5":"h-4.5 w-8"]]),disabled:n.disabled},{default:D(()=>[m("span",{class:T([[t.value?n.size=="sm"?"translate-x-3":"translate-x-4":"translate-x-1",n.size=="sm"?"h-2.5 w-2.5":" h-3 w-3 "],"inline-block transform rounded-full bg-white transition-transform"])},null,2)]),_:1},8,["modelValue","class","disabled"])])]),_:1},16))}}),eo={class:"flex h-7 w-full cursor-pointer select-none items-center rounded border bg-gray-100"},to=["onClick"],no={__name:"Switch",props:ee({tabs:{type:Array,required:!0}},{modelValue:{},modelModifiers:{}}),emits:ee(["switch"],["update:modelValue"]),setup(e,{emit:t}){const n=ne(e,"modelValue"),a=t,s=e,r=S(()=>{var c;return typeof((c=s.tabs)==null?void 0:c[0])=="string"?s.tabs.map(l=>({label:l,value:l})):s.tabs});function o(c){c.disabled||(n.value=c.value,a("switch",c))}return(c,l)=>(p(),y("div",eo,[(p(!0),y(P,null,Y(r.value,i=>(p(),y("div",{class:T(["flex h-full flex-1 items-center justify-center truncate px-4 text-gray-700 transition-all",{"rounded bg-white text-gray-800 shadow":i.active||n.value===i.value||n.value===void 0&&i.default,"cursor-not-allowed":i.disabled}]),onClick:u=>o(i)},I(i.label),11,to))),256))]))}};function ao(e){e.component("Input",Dt),e.component("Badge",St),e.component("Button",ue),e.component("Dialog",Tt),e.component("Avatar",Lt),e.component("Switch",no),e.component("Popover",At),e.component("Tooltip",It),e.component("Toggle",Xa),e.component("Dropdown",Pe),e.component("FormControl",Ve),e.component("LoadingIndicator",Et),e.component("Autocomplete",Mt),e.component("ErrorMessage",je),e.component("FeatherIcon",Ne)}function oo(e){e.provide("$dayjs",te),e.provide("$notify",$),e.provide("$socket",Nn())}const so=[{path:"/login",name:"Login",component:()=>v(()=>import("./Login-7d646d28.js"),["assets/Login-7d646d28.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/index-77f7bd6f.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"]),meta:{isGuestView:!0,hideSidebar:!0}},{path:"/",name:"Home",redirect:"/dashboards",component:()=>v(()=>import("./Home-e64eab69.js"),["assets/Home-e64eab69.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/index-77f7bd6f.js","assets/plus-3394075c.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"])},{path:"/dashboards",name:"DashboardList",component:()=>v(()=>import("./DashboardList-d51eb5a4.js"),["assets/DashboardList-d51eb5a4.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/search-34ad51bc.js","assets/index-77f7bd6f.js","assets/refresh-cw-ef6c08ee.js","assets/eye-c3c38d1f.js","assets/clock-73e01da8.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"])},{props:!0,name:"Dashboard",path:"/dashboards/:name",component:()=>v(()=>import("./Dashboard-8a9ac4ea.js"),["assets/Dashboard-8a9ac4ea.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/dashboard-37329027.js","assets/VueGridLayout.vue_vue_type_style_index_0_lang-dd27665c.js","assets/ChartRenderer.vue_vue_type_script_setup_true_lang-564d1b03.js","assets/ChartSectionEmptySvg-d77827da.js","assets/DrillDown.vue_vue_type_script_setup_true_lang-3700404a.js","assets/ExpressionEditor.vue_vue_type_style_index_0_lang-9e2463ac.js","assets/vue-codemirror.esm-d1d2df5a.js","assets/ExpressionEditor-73d6dd60.css","assets/index-77f7bd6f.js","assets/play-63d306bd.js","assets/ellipsis-10a30b7b.js","assets/Popover-5414f173.js","assets/Autocomplete-e91e4d1c.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/vuedraggable.umd-f13fb48a.js","assets/grip-vertical-c5c2fa7d.js","assets/x-3f18ad86.js","assets/combine-0dbf7ac7.js","assets/search-34ad51bc.js","assets/chevron-down-7c5e9308.js","assets/DatePickerControl.vue_vue_type_script_setup_true_lang-6baff6f5.js","assets/refresh-ccw-f825866d.js","assets/plus-3394075c.js","assets/tables-0e8be38f.js","assets/data_source-00c6028c.js","assets/table-2-565c43f4.js","assets/check-2c63c113.js","assets/chevron-left-c299c44c.js","assets/DataTable.vue_vue_type_script_setup_true_lang-0fc4cbd5.js","assets/ContentEditable-bc84e80c.js","assets/ContentEditable-dae1067e.css","assets/chevron-right-abc82e4c.js","assets/IndicatorIcon-21535c9e.js","assets/refresh-cw-ef6c08ee.js","assets/DrillDown-ee1c19d0.css","assets/maximize-3d779b9b.js","assets/ColumnFilterValueSelector.vue_vue_type_script_setup_true_lang-88f0bec7.js","assets/VueGridLayout-e8ee5ca4.css","assets/text-cursor-input-3636b908.js"])},{path:"/workbook",name:"WorkbookList",component:()=>v(()=>import("./WorkbookList-2aad0fbc.js"),["assets/WorkbookList-2aad0fbc.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/users-398754d3.js","assets/dashboard-37329027.js","assets/router-9009eafe.js","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js","assets/building-2-6d16ba4c.js","assets/eye-c3c38d1f.js","assets/plus-3394075c.js","assets/search-34ad51bc.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"])},{props:!0,name:"Workbook",path:"/workbook/:workbook_name",component:()=>v(()=>import("./Workbook-a9490ed9.js"),["assets/Workbook-a9490ed9.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/dashboard-37329027.js","assets/ContentEditable-bc84e80c.js","assets/ContentEditable-dae1067e.css","assets/UserSelector.vue_vue_type_script_setup_true_lang-09c49be5.js","assets/Autocomplete-e91e4d1c.js","assets/Popover-5414f173.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/users-398754d3.js","assets/search-34ad51bc.js","assets/building-2-6d16ba4c.js","assets/ChartIcon.vue_vue_type_script_setup_true_lang-f01737f9.js","assets/chart-scatter-06f2042d.js","assets/table-2-565c43f4.js","assets/plus-3394075c.js","assets/x-3f18ad86.js","assets/chevron-right-abc82e4c.js","assets/chevron-down-7c5e9308.js","assets/pen-line-c3e93d95.js","assets/combine-0dbf7ac7.js","assets/layout-panel-top-f86bd902.js","assets/text-cursor-input-3636b908.js","assets/Workbook-e2cfdbcf.css"]),meta:{hideSidebar:!0},children:[{props:!0,path:"query/:query_name",name:"WorkbookQuery",component:()=>v(()=>import("./WorkbookQuery-e73e4f50.js"),["assets/WorkbookQuery-e73e4f50.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/index-77f7bd6f.js","assets/combine-0dbf7ac7.js","assets/ExpressionEditor.vue_vue_type_style_index_0_lang-9e2463ac.js","assets/vue-codemirror.esm-d1d2df5a.js","assets/ExpressionEditor-73d6dd60.css","assets/ContentEditable-bc84e80c.js","assets/ContentEditable-dae1067e.css","assets/data_source-00c6028c.js","assets/DrillDown.vue_vue_type_script_setup_true_lang-3700404a.js","assets/play-63d306bd.js","assets/ellipsis-10a30b7b.js","assets/Popover-5414f173.js","assets/Autocomplete-e91e4d1c.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/vuedraggable.umd-f13fb48a.js","assets/grip-vertical-c5c2fa7d.js","assets/x-3f18ad86.js","assets/search-34ad51bc.js","assets/chevron-down-7c5e9308.js","assets/dashboard-37329027.js","assets/DatePickerControl.vue_vue_type_script_setup_true_lang-6baff6f5.js","assets/refresh-ccw-f825866d.js","assets/plus-3394075c.js","assets/tables-0e8be38f.js","assets/table-2-565c43f4.js","assets/check-2c63c113.js","assets/chevron-left-c299c44c.js","assets/DataTable.vue_vue_type_script_setup_true_lang-0fc4cbd5.js","assets/chevron-right-abc82e4c.js","assets/IndicatorIcon-21535c9e.js","assets/refresh-cw-ef6c08ee.js","assets/DrillDown-ee1c19d0.css","assets/ColumnFilterValueSelector.vue_vue_type_script_setup_true_lang-88f0bec7.js","assets/list-filter-e596ffc3.js","assets/bug-a1e6b610.js","assets/text-cursor-input-3636b908.js"])},{props:!0,path:"chart/:chart_name",name:"WorkbookChart",component:()=>v(()=>import("./WorkbookChart-070c52d2.js"),["assets/WorkbookChart-070c52d2.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/DrillDown.vue_vue_type_script_setup_true_lang-3700404a.js","assets/ExpressionEditor.vue_vue_type_style_index_0_lang-9e2463ac.js","assets/vue-codemirror.esm-d1d2df5a.js","assets/ExpressionEditor-73d6dd60.css","assets/index-77f7bd6f.js","assets/play-63d306bd.js","assets/ellipsis-10a30b7b.js","assets/Popover-5414f173.js","assets/Autocomplete-e91e4d1c.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/vuedraggable.umd-f13fb48a.js","assets/grip-vertical-c5c2fa7d.js","assets/x-3f18ad86.js","assets/combine-0dbf7ac7.js","assets/search-34ad51bc.js","assets/chevron-down-7c5e9308.js","assets/dashboard-37329027.js","assets/DatePickerControl.vue_vue_type_script_setup_true_lang-6baff6f5.js","assets/refresh-ccw-f825866d.js","assets/plus-3394075c.js","assets/tables-0e8be38f.js","assets/data_source-00c6028c.js","assets/table-2-565c43f4.js","assets/check-2c63c113.js","assets/chevron-left-c299c44c.js","assets/DataTable.vue_vue_type_script_setup_true_lang-0fc4cbd5.js","assets/ContentEditable-bc84e80c.js","assets/ContentEditable-dae1067e.css","assets/chevron-right-abc82e4c.js","assets/IndicatorIcon-21535c9e.js","assets/refresh-cw-ef6c08ee.js","assets/DrillDown-ee1c19d0.css","assets/ColorInput-9369aab6.js","assets/colors-18b5c913.js","assets/ColorPicker.vue_vue_type_script_setup_true_lang-15050772.js","assets/ChartRenderer.vue_vue_type_script_setup_true_lang-564d1b03.js","assets/ChartSectionEmptySvg-d77827da.js","assets/ChartIcon.vue_vue_type_script_setup_true_lang-f01737f9.js","assets/chart-scatter-06f2042d.js","assets/text-cursor-input-3636b908.js"])},{props:!0,path:"dashboard/:dashboard_name",name:"WorkbookDashboard",component:()=>v(()=>import("./WorkbookDashboard-4661de0a.js"),["assets/WorkbookDashboard-4661de0a.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/ContentEditable-bc84e80c.js","assets/ContentEditable-dae1067e.css","assets/dashboard-37329027.js","assets/ChartIcon.vue_vue_type_script_setup_true_lang-f01737f9.js","assets/index-77f7bd6f.js","assets/chart-scatter-06f2042d.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/table-2-565c43f4.js","assets/search-34ad51bc.js","assets/Autocomplete-e91e4d1c.js","assets/Popover-5414f173.js","assets/VueGridLayout.vue_vue_type_style_index_0_lang-dd27665c.js","assets/ChartRenderer.vue_vue_type_script_setup_true_lang-564d1b03.js","assets/ChartSectionEmptySvg-d77827da.js","assets/DrillDown.vue_vue_type_script_setup_true_lang-3700404a.js","assets/ExpressionEditor.vue_vue_type_style_index_0_lang-9e2463ac.js","assets/vue-codemirror.esm-d1d2df5a.js","assets/ExpressionEditor-73d6dd60.css","assets/play-63d306bd.js","assets/ellipsis-10a30b7b.js","assets/vuedraggable.umd-f13fb48a.js","assets/grip-vertical-c5c2fa7d.js","assets/x-3f18ad86.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js","assets/DatePickerControl.vue_vue_type_script_setup_true_lang-6baff6f5.js","assets/refresh-ccw-f825866d.js","assets/plus-3394075c.js","assets/tables-0e8be38f.js","assets/data_source-00c6028c.js","assets/check-2c63c113.js","assets/chevron-left-c299c44c.js","assets/DataTable.vue_vue_type_script_setup_true_lang-0fc4cbd5.js","assets/chevron-right-abc82e4c.js","assets/IndicatorIcon-21535c9e.js","assets/refresh-cw-ef6c08ee.js","assets/DrillDown-ee1c19d0.css","assets/maximize-3d779b9b.js","assets/ColumnFilterValueSelector.vue_vue_type_script_setup_true_lang-88f0bec7.js","assets/VueGridLayout-e8ee5ca4.css","assets/UserSelector.vue_vue_type_script_setup_true_lang-09c49be5.js","assets/users-398754d3.js","assets/pen-line-c3e93d95.js","assets/text-cursor-input-3636b908.js"])}]},{path:"/data-source",name:"DataSourceList",component:()=>v(()=>import("./DataSourceList-1479877f.js"),["assets/DataSourceList-1479877f.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/IndicatorIcon-21535c9e.js","assets/users-398754d3.js","assets/data_source-00c6028c.js","assets/DataTable.vue_vue_type_script_setup_true_lang-0fc4cbd5.js","assets/ContentEditable-bc84e80c.js","assets/ContentEditable-dae1067e.css","assets/index-77f7bd6f.js","assets/x-3f18ad86.js","assets/plus-3394075c.js","assets/search-34ad51bc.js","assets/chevron-left-c299c44c.js","assets/chevron-right-abc82e4c.js","assets/table-2-565c43f4.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"])},{props:!0,path:"/data-source/:name",name:"DataSourceTableList",component:()=>v(()=>import("./DataSourceTableList-42603812.js"),["assets/DataSourceTableList-42603812.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/data_source-00c6028c.js","assets/tables-0e8be38f.js","assets/search-34ad51bc.js","assets/index-77f7bd6f.js","assets/ellipsis-10a30b7b.js","assets/refresh-ccw-f825866d.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"])},{props:!0,path:"/data-source/:data_source/:table_name",name:"DataSourceTable",component:()=>v(()=>import("./DataSourceTable-9c8c78c5.js"),["assets/DataSourceTable-9c8c78c5.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/DataTable.vue_vue_type_script_setup_true_lang-0fc4cbd5.js","assets/ContentEditable-bc84e80c.js","assets/ContentEditable-dae1067e.css","assets/index-77f7bd6f.js","assets/x-3f18ad86.js","assets/plus-3394075c.js","assets/search-34ad51bc.js","assets/chevron-left-c299c44c.js","assets/chevron-right-abc82e4c.js","assets/table-2-565c43f4.js","assets/tables-0e8be38f.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"])},{path:"/data-store",name:"DataStoreList",component:()=>v(()=>import("./DataStoreList-7f5750ba.js"),["assets/DataStoreList-7f5750ba.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/data_source-00c6028c.js","assets/Autocomplete-e91e4d1c.js","assets/Popover-5414f173.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/index-77f7bd6f.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/tables-0e8be38f.js","assets/plus-3394075c.js","assets/search-34ad51bc.js","assets/text-cursor-input-3636b908.js","assets/combine-0dbf7ac7.js","assets/chevron-down-7c5e9308.js"])},{props:!0,name:"SharedChart",path:"/shared/chart/:chart_name",component:()=>v(()=>import("./SharedChart-4b3d0499.js"),["assets/SharedChart-4b3d0499.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/dashboard-37329027.js","assets/ChartRenderer.vue_vue_type_script_setup_true_lang-564d1b03.js","assets/ChartSectionEmptySvg-d77827da.js","assets/DrillDown.vue_vue_type_script_setup_true_lang-3700404a.js","assets/ExpressionEditor.vue_vue_type_style_index_0_lang-9e2463ac.js","assets/vue-codemirror.esm-d1d2df5a.js","assets/ExpressionEditor-73d6dd60.css","assets/index-77f7bd6f.js","assets/play-63d306bd.js","assets/ellipsis-10a30b7b.js","assets/Popover-5414f173.js","assets/Autocomplete-e91e4d1c.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/vuedraggable.umd-f13fb48a.js","assets/grip-vertical-c5c2fa7d.js","assets/x-3f18ad86.js","assets/combine-0dbf7ac7.js","assets/search-34ad51bc.js","assets/chevron-down-7c5e9308.js","assets/DatePickerControl.vue_vue_type_script_setup_true_lang-6baff6f5.js","assets/refresh-ccw-f825866d.js","assets/plus-3394075c.js","assets/tables-0e8be38f.js","assets/data_source-00c6028c.js","assets/table-2-565c43f4.js","assets/check-2c63c113.js","assets/chevron-left-c299c44c.js","assets/DataTable.vue_vue_type_script_setup_true_lang-0fc4cbd5.js","assets/ContentEditable-bc84e80c.js","assets/ContentEditable-dae1067e.css","assets/chevron-right-abc82e4c.js","assets/IndicatorIcon-21535c9e.js","assets/refresh-cw-ef6c08ee.js","assets/DrillDown-ee1c19d0.css","assets/text-cursor-input-3636b908.js"]),meta:{hideSidebar:!0,isGuestView:!0}},{props:!0,name:"SharedDashboard",path:"/shared/dashboard/:dashboard_name",component:()=>v(()=>import("./SharedDashboard-ff38ab34.js"),["assets/SharedDashboard-ff38ab34.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css","assets/dashboard-37329027.js","assets/VueGridLayout.vue_vue_type_style_index_0_lang-dd27665c.js","assets/ChartRenderer.vue_vue_type_script_setup_true_lang-564d1b03.js","assets/ChartSectionEmptySvg-d77827da.js","assets/DrillDown.vue_vue_type_script_setup_true_lang-3700404a.js","assets/ExpressionEditor.vue_vue_type_style_index_0_lang-9e2463ac.js","assets/vue-codemirror.esm-d1d2df5a.js","assets/ExpressionEditor-73d6dd60.css","assets/index-77f7bd6f.js","assets/play-63d306bd.js","assets/ellipsis-10a30b7b.js","assets/Popover-5414f173.js","assets/Autocomplete-e91e4d1c.js","assets/index-9194c21d.js","assets/toasts-2937f9d2.js","assets/calendar-1687c485.js","assets/clock-73e01da8.js","assets/vuedraggable.umd-f13fb48a.js","assets/grip-vertical-c5c2fa7d.js","assets/x-3f18ad86.js","assets/combine-0dbf7ac7.js","assets/search-34ad51bc.js","assets/chevron-down-7c5e9308.js","assets/DatePickerControl.vue_vue_type_script_setup_true_lang-6baff6f5.js","assets/refresh-ccw-f825866d.js","assets/plus-3394075c.js","assets/tables-0e8be38f.js","assets/data_source-00c6028c.js","assets/table-2-565c43f4.js","assets/check-2c63c113.js","assets/chevron-left-c299c44c.js","assets/DataTable.vue_vue_type_script_setup_true_lang-0fc4cbd5.js","assets/ContentEditable-bc84e80c.js","assets/ContentEditable-dae1067e.css","assets/chevron-right-abc82e4c.js","assets/IndicatorIcon-21535c9e.js","assets/refresh-cw-ef6c08ee.js","assets/DrillDown-ee1c19d0.css","assets/maximize-3d779b9b.js","assets/ColumnFilterValueSelector.vue_vue_type_script_setup_true_lang-88f0bec7.js","assets/VueGridLayout-e8ee5ca4.css","assets/text-cursor-input-3636b908.js"]),meta:{hideSidebar:!0,isGuestView:!0}},{path:"/:pathMatch(.*)*",component:()=>v(()=>import("./NotFound-12770b0b.js"),["assets/NotFound-12770b0b.js","assets/frappe-ui-d69b39da.js","assets/frappe-ui-4e364a1e.css"]),meta:{hideSidebar:!0}}];let we=$t({history:Ot("/insights"),routes:so});we.beforeEach(async(e,t,n)=>{if(!g.initialized&&await g.initialize(),e.meta.isGuestView&&!g.isLoggedIn&&e.name!=="Login")return n();if(!g.isLoggedIn)return window.location.href="/login",n(!1);e.path==="/login"?n("/"):n()});const ro=window.fetch;window.fetch=async function(){const e=await ro(...arguments);return e.status===403&&(!document.cookie||document.cookie.includes("user_id=Guest"))&&(g.resetSession(),we.push("/login")),e};jt("resourceFetcher",Rt);const B=Vt(Qa),io=st();B.use(io);B.use(we);B.component("grid-layout",rt);B.component("grid-item",it);B.config.errorHandler=(e,t,n)=>(console.groupCollapsed("Unhandled Error in: ",n),console.error("Context:",t),console.error("Error:",e),console.groupEnd(),!1);ao(B);oo(B);B.mount("#app");export{Ao as $,yo as A,vo as B,go as C,ye as D,ho as E,z as F,Ca as G,ts as H,Un as I,C as J,Bn as K,we as L,Co as M,ko as N,oa as O,Be as P,xo as Q,So as R,tn as S,To as T,Mo as U,$o as V,Oo as W,jo as X,Vo as Y,Lo as Z,Ta as _,Uo as a,Io as a0,Eo as a1,Po as a2,No as a3,Bo as a4,Do as a5,Ro as a6,Zo as a7,Z as a8,os as a9,Ho as aa,Ut as ab,ns as ac,es as ad,no as ae,as as af,F as b,Fo as c,qo as d,Ue as e,$ as f,Yo as g,zo as h,U as i,bo as j,wo as k,ia as l,_o as m,Jo as n,Xo as o,Qo as p,Ko as q,De as r,g as s,Go as t,ma as u,Wo as v,be as w,aa as x,pa as y,Xa as z};
//# sourceMappingURL=main-d2d228fc.js.map
