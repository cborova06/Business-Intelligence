import{u as b,s as B,r as p,o as m,c as U,w as i,h as a,i as y,j as V,E as A,d as v,e as k,F as C,f as t,K as E,g as $,t as u}from"./frappe-ui-d69b39da.js";import{u as L,a as N,_ as T}from"./useTeams-4d4fbe26.js";import{_ as D}from"./Form-a11ed169.js";const F={__name:"AddUserDialog",emits:["close"],setup(j,{emit:x}){const _=x,r=b({get:()=>!0,set:e=>{e||_("close")}}),n=B({first_name:"",last_name:"",email:"",team:"",role:"User"}),h=L(),c=b(()=>[{label:"Select Team",value:""}].concat(h.list.map(e=>({label:e.team_name,value:e.name})))),g=N();function d(){g.add(n).then(()=>{_("close")})}return(e,s)=>{const f=p("Button"),w=p("Dialog");return m(),U(w,{options:{title:"Add User"},modelValue:r.value,"onUpdate:modelValue":s[2]||(s[2]=o=>r.value=o)},{"body-content":i(()=>[a(D,{modelValue:n,"onUpdate:modelValue":s[0]||(s[0]=o=>n=o),meta:{fields:[{name:"first_name",label:"First Name",type:"text",placeholder:"Enter first name"},{name:"last_name",label:"Last Name",type:"text",placeholder:"Enter last name"},{name:"email",label:"Email",type:"email",placeholder:"Enter email"},{name:"role",label:"Role",type:"select",placeholder:"Select role",options:["Admin","User"]},{name:"team",label:"Team",type:"select",placeholder:"Select team",options:c.value}]}},null,8,["modelValue","meta"])]),actions:i(()=>[a(f,{variant:"solid",disabled:!n.first_name||!n.last_name||!n.email,onClick:d},{default:i(()=>s[3]||(s[3]=[y(" Add ")])),_:1},8,["disabled"]),a(f,{onClick:s[1]||(s[1]=o=>r.value=!1)},{default:i(()=>s[4]||(s[4]=[y("Cancel")])),_:1})]),_:1},8,["modelValue"])}}},S={class:"flex flex-1 justify-between"},I={class:"space-x-4"},K={class:"flex flex-1 flex-col overflow-hidden"},O={class:"mb-4 flex flex-shrink-0 space-x-4"},R={class:"flex flex-1 flex-col overflow-hidden rounded border"},q={class:"flex flex-shrink-0 items-center justify-between border-b px-4 py-3 text-sm text-gray-600"},z={class:"mr-4"},G={key:0,role:"list",class:"flex flex-1 flex-col divide-y divide-gray-200 overflow-y-auto"},H=["onClick"],J={class:"group flex h-11 cursor-pointer items-center rounded px-4 hover:bg-gray-50"},M={class:"mr-4"},P={class:"flex flex-1 flex-shrink-0 items-center justify-between"},Q={class:"overflow-hidden text-ellipsis whitespace-nowrap text-sm font-medium text-gray-900"},W={class:"flex-1 flex-shrink-0 overflow-hidden text-ellipsis whitespace-nowrap text-sm text-gray-600"},X={class:"hidden flex-1 flex-shrink-0 overflow-hidden whitespace-nowrap text-sm text-gray-600 lg:inline-block"},Y={class:"hidden flex-1 flex-shrink-0 overflow-hidden whitespace-nowrap text-sm text-gray-600 lg:inline-block"},le={__name:"Users",setup(j){const x=N(),_=V(null),r=V(!1),n=A("$dayjs"),h=d=>d&&n(d).fromNow(),c=B({full_name:""}),g=b(()=>x.list.filter(d=>d.full_name.toLowerCase().includes(c.full_name.toLowerCase())));return(d,e)=>{const s=p("Button"),f=p("Input"),w=p("Badge");return m(),v(C,null,[a(T,null,{header:i(()=>[t("div",S,[e[4]||(e[4]=t("h1",{class:"text-3xl font-medium text-gray-900"},"Users",-1)),t("div",I,[a(s,{variant:"outline",iconLeft:"plus",onClick:e[0]||(e[0]=o=>r.value=!0)},{default:i(()=>e[3]||(e[3]=[y(" Add User ")])),_:1})])])]),main:i(()=>{var o;return[t("div",K,[t("div",O,[a(f,{type:"text",placeholder:"Full Name",modelValue:c.full_name,"onUpdate:modelValue":e[1]||(e[1]=l=>c.full_name=l)},null,8,["modelValue"])]),t("div",R,[t("div",q,[t("p",z,[a(f,{type:"checkbox",class:"rounded border-gray-300"})]),e[5]||(e[5]=t("p",{class:"flex-1 flex-shrink-0"},"Full Name",-1)),e[6]||(e[6]=t("p",{class:"flex-1 flex-shrink-0"},"Email",-1)),e[7]||(e[7]=t("p",{class:"flex-1 flex-shrink-0"},"Teams",-1)),e[8]||(e[8]=t("p",{class:"flex-1 flex-shrink-0"},"Last Active",-1))]),((o=E(x).list)==null?void 0:o.length)>0?(m(),v("ul",G,[(m(!0),v(C,null,$(g.value,l=>(m(),v("li",{key:l.name,onClick:Z=>_.value=l.name},[t("div",J,[t("p",M,[a(f,{type:"checkbox",class:"rounded border-gray-300"})]),t("p",P,[t("span",Q,u(l.full_name),1),l.type=="Admin"?(m(),U(w,{key:0,theme:"green",class:"mr-6"},{default:i(()=>[y(u(l.type),1)]),_:2},1024)):k("",!0)]),t("p",W,u(l.email),1),t("p",X,u(l.teams.length>0?l.teams.join(", "):"-"),1),t("p",Y,u(h(l.last_active)||"-"),1)])],8,H))),128))])):k("",!0)])])]}),_:1}),r.value?(m(),U(F,{key:0,onClose:e[2]||(e[2]=o=>r.value=!1)})):k("",!0)],64)}}};export{le as default};
//# sourceMappingURL=Users-79cbece2.js.map
