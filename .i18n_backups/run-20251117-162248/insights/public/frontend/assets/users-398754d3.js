import{s as g,j as a,v as l}from"./frappe-ui-d69b39da.js";import{f as c,b as f}from"./main-d2d228fc.js";const s=a([]),r=a(!1);async function n(e=""){return r.value=!0,l("insights.api.user.get_users",{search_term:e}).then(t=>(s.value=t,r.value=!1,s.value))}function o(e){return s.value.find(t=>t.email===e)}function h(e){const t=o(e);return t?t.full_name||e:""}function m(e){const t=o(e);return t?t.user_image:""}const u=a(!1);function p(e){return u.value=!0,l("insights.api.user.invite_users",{emails:e.join(",")}).then(()=>{n(),c({title:"Invitation Sent",message:e.length===1?`Invitation sent to ${e[0]}`:`Invitations sent to ${e.length} users`,variant:"success"})}).catch(t=>{f(t)}).finally(()=>{u.value=!1})}const i=a(!1);function d(e,t){return i.value=!0,l("insights.api.user.update_user",{email:e,fields:{first_name:t.first_name,last_name:t.last_name}}).then(()=>{n(),c({title:"User Updated",message:"User updated successfully",variant:"success"})}).catch(v=>{f(v)}).finally(()=>{i.value=!1})}function I(){return s.value.length||n(),g({users:s,loading:r,getUsers:n,getUser:o,getName:h,getImage:m,updatingUser:i,updateUser:d,inviteUsers:p,sendingInvitation:u})}export{I as u};
//# sourceMappingURL=users-398754d3.js.map
