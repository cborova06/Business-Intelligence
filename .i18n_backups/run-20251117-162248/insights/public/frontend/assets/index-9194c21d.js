import{c as u,s as k}from"./toasts-2937f9d2.js";import{c as o,d as w}from"./index-77f7bd6f.js";import{D as x,u as M,B as E,K as N,v as I}from"./frappe-ui-d69b39da.js";import{C as S}from"./calendar-1687c485.js";import{C as A}from"./clock-73e01da8.js";/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=o("baseline",[["path",{d:"M4 20h16",key:"14thso"}],["path",{d:"m6 16 6-12 6 12",key:"1b4byz"}],["path",{d:"M8 12h8",key:"1wcyev"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=o("calendar-clock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d=o("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=o("shield-question",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=o("toggle-left",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-vue-next v0.484.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p=o("type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),K=[{label:"String",value:"String"},{label:"Text",value:"Text"},{label:"Integer",value:"Integer"},{label:"Decimal",value:"Decimal"},{label:"Date",value:"Date"},{label:"Time",value:"Time"},{label:"Datetime",value:"Datetime"}],X={Integer:d,Decimal:d,Date:S,Datetime:D,Time:A,Text:p,String:O,"Long Text":p},Z={number:d,string:p,boolean:J,date:S,datetime:D,any:q},s=["Integer","Decimal"],c=["Text","String"],f=["Date","Datetime","Time"],y={NUMBER:s,TEXT:c,DATE:f,MEASURE:s,DIMENSION:c.concat(f),DISCRETE:c,CONTINUOUS:s.concat(f)},j=[{label:"Unique",value:"group by",description:"Group by"},{label:"Count of Records",value:"count",description:"Count"},{label:"Sum of",value:"sum",description:"Sum"},{label:"Average of",value:"avg",description:"Average"},{label:"Cumulative Count of Records",value:"cumulative count",description:"Cumulative Count"},{label:"Cumulative Sum of",value:"cumulative sum",description:"Cumulative Sum"},{label:"Unique values of",value:"distinct",description:"Distinct"},{label:"Unique count of",value:"distinct_count",description:"Distinct Count"},{label:"Minimum of",value:"min",description:"Minimum"},{label:"Maximum of",value:"max",description:"Maximum"}],ee=[{label:"Minute",value:"Minute",description:"January 12, 2020 1:14 PM"},{label:"Hour",value:"Hour",description:"January 12, 2020 1:00 PM"},{label:"Hour of Day",value:"Hour of Day",description:"1:00 PM"},{label:"Day",value:"Day",description:"12th January, 2020"},{label:"Day Short",value:"Day Short",description:"12th Jan, 20"},{label:"Week",value:"Week",description:"12th January, 2020"},{label:"Month",value:"Month",description:"January, 2020"},{label:"Mon",value:"Mon",description:"Jan 20"},{label:"Quarter",value:"Quarter",description:"Q1, 2020"},{label:"Year",value:"Year",description:"2020"},{label:"Day of Week",value:"Day of Week",description:"Monday"},{label:"Month of Year",value:"Month of Year",description:"January"},{label:"Quarter of Year",value:"Quarter of Year",description:"Q1"}];function te(e){let t=[{label:"equals",value:"="},{label:"not equals",value:"!="},{label:"is",value:"is"}];return e&&(y.TEXT.includes(e)&&(t=t.concat([{label:"contains",value:"contains"},{label:"not contains",value:"not_contains"},{label:"starts with",value:"starts_with"},{label:"ends with",value:"ends_with"},{label:"one of",value:"in"},{label:"not one of",value:"not_in"}])),y.NUMBER.includes(e)&&(t=t.concat([{label:"one of",value:"in"},{label:"not one of",value:"not_in"},{label:"greater than",value:">"},{label:"smaller than",value:"<"},{label:"greater than equal to",value:">="},{label:"smaller than equal to",value:"<="},{label:"between",value:"between"}])),y.DATE.includes(e)&&(t=t.concat([{label:"greater than",value:">"},{label:"smaller than",value:"<"},{label:"greater than equal to",value:">="},{label:"smaller than equal to",value:"<="},{label:"between",value:"between"},{label:"within",value:"timespan"}]))),t}async function ae(e){return new Promise(t=>{function a(l){l&&(t(l),n())}const n=x(e,a,{deep:!0}),r=typeof e=="function"?e():N(e);a(r)})}function U(...e){return e.some(t=>t==null?!0:Object.keys(t).length===0)}function R(e,t=null){if(e==null)return t;if(typeof e!="string")return e;try{return JSON.parse(e)}catch(a){return console.groupCollapsed("Error parsing JSON"),console.log(e),console.error(a),console.groupEnd(),u({message:"Error parsing JSON",variant:"error"}),t}}function L(e){return e?new Date(e).toLocaleString("en-US",{month:"short",year:"numeric",day:"numeric"}):""}function T(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every((a,n)=>T(a,t[n]))}function _(e){x(()=>e,t=>{if(t.value.title){if(t.value.title&&t.value.subtitle){document.title=`${t.value.title} | ${t.value.subtitle}`;return}if(t.value.title){document.title=`${t.value.title} | Frappe Insights`;return}}},{immediate:!0,deep:!0})}function Q(e,{term:t,keys:a}){const n=t.toLowerCase();return e.reduce((l,i)=>{const v=a.reduce((h,C)=>{const b=i[C];if(b){const g=b.toLowerCase().indexOf(n);if(g!==-1)return h+g+1}return h},0);return v&&l.push({item:i,score:v}),l},[]).sort((l,i)=>l.score-i.score).map(l=>l.item)}function Y(e,t){return e&&e.length>t?e.substring(0,t)+"...":e}function H(e,t=0){var l,i;const a=k(),n=((l=a.user)==null?void 0:l.country)=="India"?"en-IN":(i=a.user)==null?void 0:i.locale;let r=new Intl.NumberFormat(n||"en-US",{notation:"compact",maximumFractionDigits:t}).format(e);return n=="en-IN"&&(r=r.replace("T","K")),r}function P(e,t=2){var r,l;if(isNaN(e))return e;t=t||F(e);const a=k(),n=((r=a.user)==null?void 0:r.country)=="India"?"en-IN":(l=a.user)==null?void 0:l.locale;return new Intl.NumberFormat(n||"en-US",{maximumFractionDigits:t}).format(e)}function F(e){const t=e.toString(),a=t.indexOf(".");return a===-1?0:Math.min(t.length-a-1,2)}function ne(e){return e&&e.startsWith("QRY")?`/insights/query/build/${e}`:""}function B(e){if(navigator.clipboard)navigator.clipboard.writeText(e),u({variant:"success",title:"Copied to clipboard"});else{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),u({variant:"success",title:"Copied to clipboard"})}catch{u({variant:"error",title:"Copy to clipboard not supported"})}finally{document.body.removeChild(t)}}}function re(e,t={}){if(!t.saveFn)throw new Error("saveFn is required");const a=M(()=>{if(e.value)return JSON.parse(JSON.stringify(e.value))});function n(l,i){!i||!l||JSON.stringify(l)!=JSON.stringify(i)&&t.saveFn()}const r=t.interval||1e3;E(a,n,{deep:!0,debounce:r})}function le(e,t,a={}){return w.toBlob(e,{bgcolor:"rgb(248, 248, 248)",...a}).then(function(n){const r=document.createElement("a");r.download=t,r.href=URL.createObjectURL(n),r.click()})}function m(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length!==t.length?!1:e.every((a,n)=>m(a,t[n]));if(typeof e=="object"&&typeof t=="object"&&e!==null&&t!==null){if(Array.isArray(e)||Array.isArray(t))return!1;const a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length||!a.every(r=>n.includes(r)))return!1;for(let r in e)if(!m(e[r],t[r]))return!1;return!0}return!1}function ie(){const e=[];let t=!1;const a=async()=>{if(!t){for(t=!0;e.length;)await e.shift()();t=!1}};return async n=>{e.push(n),await a()}}async function oe(e,t,a={}){return I("run_doc_method",{method:e,dt:t.doctype,dn:t.name,args:a})}function ue(e){return{...e,description:e.type,value:`${e.table}.${e.column}`}}const se={isEmptyObj:U,safeJSONParse:R,formatDate:L,isEqual:T,updateDocumentTitle:_,fuzzySearch:Q,formatNumber:P,getShortNumber:H,copyToClipboard:B,ellipsis:Y,areDeeplyEqual:m};export{j as A,O as B,D as C,y as F,ee as G,d as H,q as S,p as T,_ as a,m as b,ie as c,le as d,P as e,Q as f,H as g,B as h,T as i,U as j,Y as k,te as l,L as m,ne as n,X as o,oe as p,ue as q,Z as r,R as s,K as t,se as u,re as v,ae as w};
//# sourceMappingURL=index-9194c21d.js.map
