import{_ as S,u as x,o as a,d as l,f as e,t as y,I as F,j as C,s as V,H as R,r as h,K as w,h as i,w as _,i as b,e as v,c as D,F as k,E as N,v as Y,g as I,y as q}from"./frappe-ui-d69b39da.js";import{s as B}from"./toasts-2937f9d2.js";import"./index-77f7bd6f.js";const H="/assets/insights/frontend/assets/add-data-source-new-fa6e87d6.mp4",L="/assets/insights/frontend/assets/build-first-query-new-bf0fa56a.mp4",M="/assets/insights/frontend/assets/create-first-dashboard-new-c161d163.mp4";const P={class:"relative flex items-center justify-center rounded-full"},z=["height","width"],Q=["stroke-width","r","cx","cy"],O=["stroke-width","stroke-dasharray","stroke-dashoffset","r","cx","cy"],A={class:"absolute font-bold"},E={__name:"ProgressRing",props:{progress:{type:Number,default:0},progressLabel:{type:String,default:""},radius:{type:Number,default:26},stroke:{type:Number,default:4}},setup(n){const o=n,r=x(()=>o.radius-o.stroke*2),t=x(()=>r.value*2*Math.PI),u=x(()=>t.value-o.progress/100*t.value);return(d,s)=>(a(),l("div",P,[(a(),l("svg",{height:n.radius*2,width:n.radius*2},[e("circle",{class:"text-gray-300",stroke:"currentColor",fill:"transparent","stroke-width":n.stroke,r:r.value,cx:n.radius,cy:n.radius},null,8,Q),e("circle",{class:"text-gray-900","stroke-linecap":"round",stroke:"currentColor",fill:"transparent","stroke-width":n.stroke,"stroke-dasharray":t.value,"stroke-dashoffset":u.value,r:r.value,cx:n.radius,cy:n.radius},null,8,O)],8,z)),e("span",A,y(n.progressLabel),1)]))}},U=S(E,[["__scopeId","data-v-eccbdac8"]]),G={key:0},K={class:"flex items-center justify-between rounded bg-gray-50 px-4 py-3"},T={class:"flex items-center space-x-2"},W={class:"flex justify-end space-x-2"},J={class:"flex flex-col items-center justify-center space-y-4"},X={autoplay:"",loop:"",muted:"",class:"h-full w-full"},Z={key:0,src:H,type:"video/mp4"},ee={key:1,src:L,type:"video/mp4"},te={key:2,src:M,type:"video/mp4"},se={class:""},oe={class:"flex w-full justify-end space-x-2"},re={__name:"HomeOnboarding",setup(n){const o=F(),r=C(!1),t=V([{title:"Connect Your Data",name:"connect_data",description:"Insights needs access to your data to start analyzing it. Don't worry, we do not store your data.",primary_button:{label:"Create Data Source",action:()=>o.push("/data-source#new")}},{title:"Build Your First Query",name:"build_query",description:"Let's introduce you to the query builder, where you'll be spending most of your time building queries.",primary_button:{label:"Build Query",action:()=>o.push("/query#new")}},{title:"Create Your First Dashboard",name:"create_dashboard",description:"Organize your visualizations meaningfully by creating a dashboard for you and your team.",primary_button:{label:"Create Dashboard",action:()=>o.push("/dashboard#new")}},{title:"All set! ðŸŽ‰",name:"all_set",description:"You are all set to use Insights. We hope you enjoy using it!",primary_button:{label:"Close",action:()=>g()}}]),u=t.reduce((f,c)=>({[c.name]:!1}),{}),d=R("insights:onboardingStatus",u),s=x(()=>t.findIndex(f=>!d.value[f.name]));function p(){d.value={...d.value,[t[s.value].name]:!0}}function g(){d.value={...d.value,all_set:!0},r.value=!1}return(f,c)=>{const m=h("Button"),$=h("Dialog");return a(),l(k,null,[!w(d).all_set&&s.value<t.length?(a(),l("div",G,[e("div",K,[e("div",T,[i(U,{class:"text-gray-900",progress:s.value/t.length*100,progressLabel:s.value},null,8,["progress","progressLabel"]),c[2]||(c[2]=e("div",null,[e("div",{class:"text-lg font-bold text-gray-900"},"Get Started with Insights"),e("div",{class:"mt-1 text-gray-600"}," Follow through a couple of steps to get yourself familiar with Insights. ")],-1))]),e("div",W,[i(m,{variant:"outline",iconLeft:"x",onClick:g},{default:_(()=>c[3]||(c[3]=[b(" Skip ")])),_:1}),i(m,{variant:"solid",iconRight:"arrow-right",onClick:c[0]||(c[0]=j=>r.value=!0)},{default:_(()=>[b(y(t.length-s.value)+" step(s) left ",1)]),_:1})])])])):v("",!0),!w(d).all_set&&s.value<t.length?(a(),D($,{key:1,modelValue:r.value,"onUpdate:modelValue":c[1]||(c[1]=j=>r.value=j),options:{title:t[s.value].title,size:"2xl"}},{"body-content":_(()=>[e("div",J,[t[s.value].name!=="all_set"?(a(),l("div",{key:t[s.value].name,class:"flex w-full items-center justify-center overflow-hidden rounded shadow-md"},[e("video",X,[t[s.value].name==="connect_data"?(a(),l("source",Z)):v("",!0),t[s.value].name==="build_query"?(a(),l("source",ee)):v("",!0),t[s.value].name==="create_dashboard"?(a(),l("source",te)):v("",!0),c[4]||(c[4]=b(" Your browser does not support the video tag. "))])])):v("",!0),e("div",se,y(t[s.value].description),1),e("div",oe,[t[s.value].name!=="all_set"?(a(),D(m,{key:0,variant:"ghost",onClick:p},{default:_(()=>c[5]||(c[5]=[b(" Skip ")])),_:1})):v("",!0),i(m,{variant:"solid",onClick:t[s.value].primary_button.action},{default:_(()=>[b(y(t[s.value].primary_button.label),1)]),_:1},8,["onClick"])])])]),_:1},8,["modelValue","options"])):v("",!0)],64)}}},ae={class:"flex items-center space-x-2"},ne={class:"rounded bg-gray-100 p-1"},le={class:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},ie={class:"rounded p-1"},de={__name:"HomePinnedItems",setup(n){const o=C(!1);return(r,t)=>{const u=h("FeatherIcon"),d=h("Dialog");return a(),l(k,null,[e("div",null,[e("div",ae,[e("div",ne,[i(u,{name:"bookmark",class:"h-4 w-4"})]),t[2]||(t[2]=e("div",{class:"text-lg"},"Pinned Charts",-1))]),e("div",le,[e("div",{class:"col-span-1 flex cursor-pointer items-center space-x-2 rounded border border-dashed bg-gray-50 p-4 transition-all hover:border-gray-400",onClick:t[0]||(t[0]=s=>o.value=!0)},[e("div",ie,[i(u,{name:"plus",class:"h-4 w-4 text-gray-600"})]),t[3]||(t[3]=e("div",{class:"text-lg text-gray-600"},"Select a chart",-1))])])]),i(d,{modelValue:o.value,"onUpdate:modelValue":t[1]||(t[1]=s=>o.value=s)},{body:_(()=>t[4]||(t[4]=[e("div",{class:"flex flex-col items-center justify-center space-y-4 p-6"},[e("div",{class:"h-72 w-full rounded bg-gray-200"}),e("div",{class:""},"Coming soon!")],-1)])),_:1},8,["modelValue"])],64)}}},ce={},ue={class:"flex items-center space-x-2"},pe={class:"rounded bg-gray-100 p-1"},ge={class:"mt-4 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},me={class:"rounded bg-gray-100 p-1"},ve={class:"rounded bg-gray-100 p-1"},ye={class:"rounded bg-gray-100 p-1"};function fe(n,o){const r=h("FeatherIcon");return a(),l("div",null,[e("div",ue,[e("div",pe,[i(r,{name:"arrow-up-right",class:"h-4 w-4"})]),o[3]||(o[3]=e("div",{class:"text-lg"},"Quick Actions",-1))]),e("div",ge,[e("div",{class:"col-span-1 flex cursor-pointer items-center justify-between rounded border border-transparent bg-white p-4 shadow transition-all hover:border-gray-400",onClick:o[0]||(o[0]=t=>n.$router.push("/data-source#new"))},[o[4]||(o[4]=e("div",{class:"text-lg font-medium text-gray-900"},"Connect Data Source",-1)),e("div",me,[i(r,{name:"plus",class:"h-4 w-4 text-gray-900"})])]),e("div",{class:"col-span-1 flex cursor-pointer items-center justify-between rounded border border-transparent bg-white p-4 shadow transition-all hover:border-gray-400",onClick:o[1]||(o[1]=t=>n.$router.push("/query#new"))},[o[5]||(o[5]=e("div",{class:"text-lg font-medium text-gray-900"},"Create a Query",-1)),e("div",ve,[i(r,{name:"plus",class:"h-4 w-4 text-gray-900"})])]),e("div",{class:"col-span-1 flex cursor-pointer items-center justify-between rounded border border-transparent bg-white p-4 shadow transition-all hover:border-gray-400",onClick:o[2]||(o[2]=t=>n.$router.push("/dashboard#new"))},[o[6]||(o[6]=e("div",{class:"text-lg font-medium text-gray-900"},"Create a Dashboard",-1)),e("div",ye,[i(r,{name:"plus",class:"h-4 w-4 text-gray-900"})])])])])}const _e=S(ce,[["render",fe]]),he={class:"flex h-full flex-col overflow-hidden"},be={class:"flex items-center space-x-2"},xe={class:"rounded bg-gray-100 p-1"},we={class:"mt-3 flex-1 overflow-hidden p-1"},ke={key:0,class:"relative flex flex-1 flex-col overflow-y-auto"},$e=["onClick"],Ce={key:1,class:"flex h-full w-full items-center justify-center"},je={__name:"HomeRecentRecords",setup(n){const o=N("$dayjs"),r=C([]);Y("insights.api.home.get_last_viewed_records").then(d=>{r.value=d.map(s=>{const p=s.reference_doctype.replace("Insights ","");return p.replace(" ",""),{title:s.title,type:p,name:s.reference_name,notebook:s.notebook,last_viewed:o(s.creation).format("MMM DD, YYYY hh:mm A"),last_viewed_from_now:`Last viewed ${o(s.creation).fromNow()}`}})});const t=F();function u(d){const{type:s,notebook:p,name:g}=d;switch(s){case"Notebook Page":return t.push(`/notebook/${p}/${g}`);case"Dashboard":return t.push(`/dashboard/${g}`);case"Query":return t.push(`/query/build/${g}`)}}return(d,s)=>{var g;const p=h("FeatherIcon");return a(),l("div",he,[e("div",be,[e("div",xe,[i(p,{name:"clock",class:"h-4 w-4"})]),s[0]||(s[0]=e("div",{class:"text-lg"},"Recently Viewed",-1))]),e("div",we,[((g=r.value)==null?void 0:g.length)>0?(a(),l("ul",ke,[s[1]||(s[1]=e("li",{class:"border-b"},null,-1)),(a(!0),l(k,null,I(r.value,(f,c)=>(a(),l("li",{key:c,class:"flex cursor-pointer items-center gap-4 border-b transition-colors hover:bg-gray-50",onClick:m=>u(f)},[e("div",null,[i(p,{name:"arrow-up-right",class:"h-4 w-4 text-gray-600"})]),(a(),l(k,null,I(["title","type","last_viewed_from_now"],(m,$)=>e("div",{class:q(["overflow-hidden text-ellipsis whitespace-nowrap py-3",[$===0?"w-[30%] ":"flex-1 text-gray-600"]])},[e("span",null,y(f[m]),1)],2)),64))],8,$e))),128))])):(a(),l("div",Ce,s[2]||(s[2]=[e("div",{class:"flex flex-col items-center space-y-2"},[e("div",{class:"text-lg text-gray-600"},"No recent records"),e("div",{class:"text-sm text-gray-600"}," You can view your recently viewed records here ")],-1)])))])])}}},De={class:"flex flex-1 flex-col space-y-8 overflow-hidden bg-white p-6"},Ie={class:"space-y-2"},Se={class:"text-3xl font-bold text-gray-900"},Fe={class:"text-lg text-gray-600"},Ye={__name:"Home",setup(n){const o=B(),t=N("$dayjs")().format("dddd, D MMMM");return document.title="Home | Frappe Insights",(u,d)=>(a(),l("div",De,[e("div",Ie,[e("div",Se," Hello, "+y(w(o).user.first_name)+" ðŸ‘‹ ",1),e("div",Fe,y(w(t)),1)]),i(re),i(_e),i(de),i(je)]))}};export{Ye as default};
//# sourceMappingURL=Home-b0516884.js.map
